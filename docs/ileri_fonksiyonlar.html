
 <!DOCTYPE html>
 <html lang="tr">


<html lang="tr" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Bu bölümde fonksiyonlar konusunu inceleyeceğiz." name="description" />
<meta content="python, fonksiyon, lambda, recursive, decorator, closure, özyinelemeli, bezeyiciler, kapalı fonksiyonlar , nested , nonlocal , nested function , iç , iç içe , iç içe fonksiyonlar, generator, üreteç , yield , iterate , iterator, yield from" name="keywords" />

    <title>İleri Düzey Fonksiyonlar &#8212; Yazbel Python Belgeleri</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=36871c9a" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css?v=bd158598" />
    <script src="_static/documentation_options.js?v=4e2d7ee8"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=5dbee647"></script>
    <link rel="canonical" href="https://python-istihza.yazbel.com/ileri_fonksiyonlar.html" />
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Dizin" href="genindex.html" />
    <link rel="search" title="Ara" href="search.html" />
    <link rel="next" title="Modüller" href="moduller.html" />
    <link rel="prev" title="Gömülü Fonksiyonlar" href="gomulu_fonksiyonlar.html" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>
<div class='header'><a href='https://yazbel.com'><img src="_static/logo.png"></a></div>

<ul class='navbar'>
    <li><a href="http://forum.yazbel.com">forum</a></li>
    <li><a href="https://github.com/yazbel/python-istihza">github</a></li>
    <li><a href="YazbelPythonProgramlamaDiliBelgeleri.pdf">pdf</a></li>
    <!-- <li><a href="YazbelPythonProgramlamaDiliBelgeleri.epub">epub</a></li> the file format is wrong so we are disabling it for now-->
    <li><a href="YazbelPythonProgramlamaDiliBelgeleri.html">html</a></li>
</ul>


    <div class="related" role="navigation" aria-label="Related">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             accesskey="I">dizin</a></li>
        <li class="right" >
          <a href="moduller.html" title="Modüller"
             accesskey="N">sonraki</a> |</li>
        <li class="right" >
          <a href="gomulu_fonksiyonlar.html" title="Gömülü Fonksiyonlar"
             accesskey="P">önceki</a> |</li>
<li class="nav-item nav-item-0"><a href=".">&#x2302;</a></li>

        <li class="nav-item nav-item-this"><a href="">İleri Düzey Fonksiyonlar</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            

  <section id="ileri-duzey-fonksiyonlar">
<h1>İleri Düzey Fonksiyonlar<a class="headerlink" href="#ileri-duzey-fonksiyonlar" title="Link to this heading">¶</a></h1>
<p>Buraya gelinceye kadar fonksiyonlara ilişkin epey söz söyledik. Artık Python
programlama dilinde fonksiyonlara dair hemen her şeyi bildiğimizi rahatlıkla
söyleyebiliriz. Zira bu noktaya kadar hem fonksiyonların temel (ve orta düzey)
özelliklerini öğrendik, hem de ‘gömülü fonksiyon’ kavramını ve gömülü
fonksiyonların kendisini bütün ayrıntılarıyla inceledik. Dolayısıyla yazdığımız
kodlarda fonksiyonları oldukça verimli bir şekilde kullanabilecek kadar
fonksiyon bilgisine sahibiz artık.</p>
<p>Dediğimiz gibi, fonksiyonlara ilişkin en temel bilgileri edindik. Ancak
fonksiyonlara dair henüz bilmediğimiz şeyler de var. Ama artık Python
programlama dilinde geldiğimiz aşamayı dikkate alarak ileriye doğru bir adım
daha atabilir, fonksiyonlara dair ileri düzey sayılabilecek konulardan da söz
edebiliriz.</p>
<p>İlk olarak ‘lambda fonksiyonlarını’ ele alalım.</p>
<section id="lambda-fonksiyonlari">
<h2>Lambda Fonksiyonları<a class="headerlink" href="#lambda-fonksiyonlari" title="Link to this heading">¶</a></h2>
<p>Şimdiye kadar Python programlama dilinde fonksiyon tanımlamak için hep <cite>def</cite>
adlı bir ifadeden yararlanmıştık. Bu bölümde ise Python programlama dilinde
fonksiyon tanımlamamızı sağlayacak, tıpkı <cite>def</cite> gibi bir ifadeden daha söz
edeceğiz. Fonksiyon tanımlamamızı sağlayan bu yeni ifadeye <cite>lambda</cite> denir. Bu
ifade ile oluşturulan fonksiyonlara ise ‘lambda fonksiyonları’…</p>
<p>Bildiğiniz gibi Python’da bir fonksiyonu <cite>def</cite> ifadesi yardımıyla şöyle
tanımlıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">fonk</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">param1</span> <span class="o">+</span> <span class="n">param2</span>
</pre></div>
</div>
<p>Bu fonksiyon, kendisine verilen parametreleri birbiriyle toplayıp bize bunların
toplamını döndürüyor:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">6</span>
</pre></div>
</div>
<p>Peki aynı işlemi lambda fonksiyonları yardımıyla yapmak istersek nasıl bir yol
izleyeceğiz?</p>
<p>Dikkatlice bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">:</span> <span class="n">param1</span> <span class="o">+</span> <span class="n">param2</span>
</pre></div>
</div>
<p>İşte burada tanımladığımız şey bir lambda fonksiyonudur. Bu lambda fonksiyonunu
da tıpkı biraz önce tanımladığımız def fonksiyonu gibi kullanabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="go">6</span>
</pre></div>
</div>
<p>Gördüğünüz gibi lambda fonksiyonlarını tanımlamak ve kullanmak hiç de zor değil.</p>
<p>Lambda fonksiyonlarının neye benzediğinden temel olarak bahsettiğimize göre
artık biraz daha derine inebiliriz.</p>
<p>Lambda fonksiyonları Python programlama dilinin ileri düzey fonksiyonlarından
biridir. Yukarıdaki örnek yardımıyla bu lambda fonksiyonlarının nasıl bir şey
olduğunu gördük. Esasında biz buraya gelene kadar bu lambda fonksiyonlarını hiç
görmemiş de değiliz. Hatırlarsanız daha önceki derslerimizde şöyle bir örnek kod
yazmıştık:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">harfler</span> <span class="o">=</span> <span class="s2">&quot;abcçdefgğhıijklmnoöprsştuüvyz&quot;</span>
<span class="n">çevrim</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">harfler</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">harfler</span><span class="p">}</span>

<span class="n">isimler</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ahmet&quot;</span><span class="p">,</span> <span class="s2">&quot;ışık&quot;</span><span class="p">,</span> <span class="s2">&quot;ismail&quot;</span><span class="p">,</span> <span class="s2">&quot;çiğdem&quot;</span><span class="p">,</span>
           <span class="s2">&quot;can&quot;</span><span class="p">,</span> <span class="s2">&quot;şule&quot;</span><span class="p">,</span> <span class="s2">&quot;iskender&quot;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">isimler</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">çevrim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
</pre></div>
</div>
<p>Burada <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> fonksiyonunun <cite>key</cite> parametresi içinde kullandığımız ifade
bir lambda fonksiyonudur:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">çevrim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Peki lambda fonksiyonları nedir ve ne işe yarar?</p>
<p>Lambda fonksiyonlarını, bir fonksiyonun işlevselliğine ihtiyaç duyduğumuz, ama
konum olarak bir fonksiyon tanımlayamayacağımız veya fonksiyon tanımlamanın zor
ya da meşakkatli olduğu durumlarda kullanabiliriz. Yukarıdaki örnek kod, bu
tanıma iyi bir örnektir: <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> fonksiyonunun <cite>key</cite> parametresi bizden bir
fonksiyon tanımı bekler. Ancak biz elbette oraya <cite>def</cite> ifadesini kullanarak
doğrudan bir fonksiyon tanımlayamayız. Ama <cite>def</cite> yerine <cite>lambda</cite> ifadesi
yardımıyla <cite>key</cite> parametresi için bir lambda fonksiyonu tanımlayabiliriz.</p>
<p>Eğer yukarıdaki kodları ‘normal’ bir fonksiyonla yazmak isteseydik şu kodları
kullanabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">harfler</span> <span class="o">=</span> <span class="s2">&quot;abcçdefgğhıijklmnoöprsştuüvyz&quot;</span>
<span class="n">çevrim</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">harfler</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">harfler</span><span class="p">}</span>

<span class="n">isimler</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ahmet&quot;</span><span class="p">,</span> <span class="s2">&quot;ışık&quot;</span><span class="p">,</span> <span class="s2">&quot;ismail&quot;</span><span class="p">,</span> <span class="s2">&quot;çiğdem&quot;</span><span class="p">,</span>
           <span class="s2">&quot;can&quot;</span><span class="p">,</span> <span class="s2">&quot;şule&quot;</span><span class="p">,</span> <span class="s2">&quot;iskender&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">sırala</span><span class="p">(</span><span class="n">eleman</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">çevrim</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">eleman</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">isimler</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">sırala</span><span class="p">))</span>
</pre></div>
</div>
<p>Burada lambda fonksiyonu kullanmak yerine, <code class="docutils literal notranslate"><span class="pre">sırala()</span></code> adlı bir fonksiyon
kullandık.</p>
<p>Eğer yukarıda ‘lambda’ ile yazdığımız örneği <code class="docutils literal notranslate"><span class="pre">sırala()</span></code> fonksiyonu ile
yazdığımız örnekle kıyaslarsanız lambda fonksiyonlarında hangi parçanın neye
karşılık geldiğini veya ne anlama sahip olduğunu rahatlıkla anlayabilirsiniz.</p>
<p>Gelin bir örnek daha verelim:</p>
<p>Diyelim ki bir sayının çift sayı olup olmadığını denetleyen bir fonksiyon yazmak
istiyorsunuz. Bunun için şöyle bir fonksiyon tanımlayabileceğimizi
biliyorsunuz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">çift_mi</span><span class="p">(</span><span class="n">sayı</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sayı</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Eğer <code class="docutils literal notranslate"><span class="pre">çift_mi()</span></code> fonksiyonuna parametre olarak verilen bir sayı çift ise
fonksiyonumuz <cite>True</cite> çıktısı verecektir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">çift_mi</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>

<span class="kc">True</span>
</pre></div>
</div>
<p>Aksi halde <cite>False</cite> çıktısı alırız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">çift_mi</span><span class="p">(</span><span class="mi">99</span><span class="p">))</span>

<span class="kc">False</span>
</pre></div>
</div>
<p>İşte yukarıdaki etkiyi lambda fonksiyonları yardımıyla da elde edebiliriz.</p>
<p>Dikkatlice bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">çift_mi</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">sayı</span><span class="p">:</span> <span class="n">sayı</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">çift_mi</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">çift_mi</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span>

<span class="go">False</span>
</pre></div>
</div>
<p>Başka bir örnek daha verelim. Diyelim ki bir liste içindeki bütün sayıların
karesini hesaplamak istiyoruz. Elimizdeki liste şu:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p>Bu listedeki sayıların her birinin karesini hesaplamak için şöyle bir şey
yazabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="go">4</span>
<span class="go">25</span>
<span class="go">100</span>
<span class="go">529</span>
<span class="go">9</span>
<span class="go">36</span>
</pre></div>
</div>
<p>Veya şöyle bir şey:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>

<span class="go">[4, 25, 100, 529, 9, 36]</span>
</pre></div>
</div>
<p>Ya da <code class="docutils literal notranslate"><span class="pre">map()</span></code> fonksiyonuyla birlikte lambda’yı kullanarak şu kodu
yazabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">sayı</span><span class="p">:</span> <span class="n">sayı</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>

<span class="go">4 25 100 529 9 36</span>
</pre></div>
</div>
<p>Son örnekte verdiğimiz lambda’lı kodu normal bir fonksiyon tanımlayarak şöyle
de yazabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">karesi</span><span class="p">(</span><span class="n">sayı</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">sayı</span> <span class="o">**</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="nb">map</span><span class="p">(</span><span class="n">karesi</span><span class="p">,</span> <span class="n">l</span><span class="p">))</span>

<span class="go">4 25 100 529 9 36</span>
</pre></div>
</div>
<p>Sözün özü, mesela şu kod:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">10</span>
</pre></div>
</div>
<p>Türkçede şu anlama gelir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;x&#39;</span> <span class="n">adlı</span> <span class="n">bir</span> <span class="n">parametre</span> <span class="n">alan</span> <span class="n">bir</span> <span class="k">lambda</span> <span class="n">fonksiyonu</span> <span class="n">tanımla</span><span class="o">.</span> <span class="n">Bu</span> <span class="n">fonksiyon</span><span class="p">,</span> <span class="n">bu</span>
<span class="s1">&#39;x parametresine 10 sayısını eklesin.</span>
</pre></div>
</div>
<p>Biz yukarıdaki örneklerde lambda fonksiyonunu tek bir parametre ile tanımladık.
Ama elbette lambda fonksiyonlarının birden fazla parametre de alabileceğini de
biliyorsunuz.</p>
<p>Örneğin:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">birleştir</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">ifade</span><span class="p">,</span> <span class="n">birleştirici</span><span class="p">:</span> <span class="n">birleştirici</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ifade</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>
</div>
<p>Burada lambda fonksiyonumuz toplam iki farklı parametre alıyor: Bunlardan ilki
<cite>ifade</cite>, ikincisi ise <cite>birleştirici</cite>. Fonksiyonumuzun gövdesinde <cite>ifade</cite>
parametresine <code class="docutils literal notranslate"><span class="pre">split()</span></code> metodunu uyguladıktan sonra, elde ettiğimiz parçaları
<cite>birleştirici</cite> parametresinin değerini kullanarak birbirleriyle birleştiriyoruz.
Yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">birleştir</span><span class="p">(</span><span class="s1">&#39;istanbul büyükşehir belediyesi&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>

<span class="go">&#39;istanbul-büyükşehir-belediyesi&#39;</span>
</pre></div>
</div>
<p>Eğer aynı işlevi ‘normal’ bir fonksiyon yardımıyla elde etmek isteseydik şöyle
bir şey yazabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">birleştir</span><span class="p">(</span><span class="n">ifade</span><span class="p">,</span> <span class="n">birleştirici</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">birleştirici</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ifade</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">birleştir</span><span class="p">(</span><span class="s1">&#39;istanbul büyükşehir belediyesi&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>

<span class="go">&#39;istanbul-büyükşehir-belediyesi&#39;</span>
</pre></div>
</div>
<p>Yukarıdaki örneklerin dışında, lambda fonksiyonları özellikle grafik arayüz
çalışmaları yaparken işinize yarayabilir. Örneğin:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">import</span> <span class="nn">tkinter.ttk</span> <span class="k">as</span> <span class="nn">ttk</span>

<span class="n">pen</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>

<span class="n">btn</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;merhaba&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;merhaba&#39;</span><span class="p">))</span>
<span class="n">btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">padx</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Bu kodlardan hiçbir şey anlamamış olabilirsiniz. Endişe etmeyin.
Burada amacımız size sadece lambda fonksiyonlarının kullanımını göstermek. Bu
kodlarda yalnızca lambda fonksiyonuna odaklanmanız şimdilik yeterli olacaktır.
Eğer bu kodları çalıştıramadıysanız <a class="reference external" href="https://forum.yazbel.com/">https://forum.yazbel.com/</a> adresinde
sorununuzu dile getirebilirsiniz.</p>
</div>
<p>Bu kodları çalıştırıp ‘merhaba’ düğmesine bastığınızda komut satırında ‘merhaba’
çıktısı görünecektir. Tkinter’de fonksiyonların <cite>command</cite> parametresi bizden
parametresiz bir fonksiyon girmemizi bekler. Ancak bazen, elde etmek istediğimiz
işlevsellik için oraya parametreli bir fonksiyon yazmak durumunda kalabiliriz.
İşte bunun gibi durumlarda lambda fonksiyonları faydalı olabilir. Elbette
yukarıdaki kodları şöyle de yazabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">import</span> <span class="nn">tkinter.ttk</span> <span class="k">as</span> <span class="nn">ttk</span>

<span class="n">pen</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">merhaba</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;merhaba&#39;</span><span class="p">)</span>

<span class="n">btn</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;merhaba&#39;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">merhaba</span><span class="p">)</span>
<span class="n">btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">padx</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">pen</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
<p>Burada da lambda yerine isimli bir fonksiyon tanımlayıp, <cite>command</cite> parametresine
doğrudan bu fonksiyonu verdik.</p>
<p>Bütün bu örneklerden gördüğünüz gibi, lambda fonksiyonları son derece pratik
araçlardır. Normal, isimli fonksiyonlarla elde ettiğimiz işlevselliği, lambda
fonksiyonları yardımıyla çok daha kısa bir şekilde elde edebiliriz. Ancak lambda
fonksiyonları normal fonksiyonlara göre biraz daha okunaksız yapılardır. O
yüzden, eğer lambda fonksiyonlarını kullanmaya mecbur değilseniz, bunların
yerine normal fonksiyonları veya yerine göre liste üreteçlerini tercih
edebilirsiniz.</p>
</section>
<section id="ozyinelemeli-recursive-fonksiyonlar">
<h2>Özyinelemeli (<em>Recursive</em>) Fonksiyonlar<a class="headerlink" href="#ozyinelemeli-recursive-fonksiyonlar" title="Link to this heading">¶</a></h2>
<p>Bu bölümde, lambda fonksiyonlarının ardından, yine Python’ın ileri düzey
konularından biri olan ‘özyinelemeli fonksiyonlar’dan söz edeceğiz. İngilizcede
<em>recursive functions</em> olarak adlandırılan özyinelemeli fonksiyonların, Python
programlama dilinin anlaması en zor konularından biri olduğu söylenir. Ama bu
söylenti sizi hiç endişelendirmesin. Zira biz burada bu çapraşık görünen konuyu
size olabildiğince basit ve anlaşılır bir şekilde sunmak için elimizden gelen
bütün çabayı göstereceğiz.</p>
<p>O halde hemen başlayalım…</p>
<p>Şimdiye kadar Python’da pek çok fonksiyon gördük. Bu fonksiyonlar kimi zaman
Python programcılarınca tanımlanıp dile entegre edilmiş ‘gömülü fonksiyonlar’
(<em>builtin functions</em>) olarak, kimi zamansa o anda içinde bulunduğumuz duruma ve
ihtiyaçlarımıza göre bizzat kendimizin tanımladığı ‘el yapımı fonksiyonlar’
(<em>custom functions</em>) olarak çıktı karşımıza.</p>
<p>Şimdiye kadar öğrendiğimiz bütün bu fonksiyonların ortak bir noktası vardı. Bu
ortak nokta, şu ana kadar fonksiyonları kullanarak yaptığımız örneklerden de
gördüğünüz gibi, bu fonksiyonlar yardımıyla başka fonksiyonları çağırabiliyor
olmamız. Örneğin:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">selamla</span><span class="p">(</span><span class="n">kim</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;merhaba&#39;</span><span class="p">,</span> <span class="n">kim</span><span class="p">)</span>
</pre></div>
</div>
<p>Burada <code class="docutils literal notranslate"><span class="pre">selamla()</span></code> adlı bir fonksiyon tanımladık. Gördüğünüz gibi bu fonksiyon
<code class="docutils literal notranslate"><span class="pre">print()</span></code> adlı başka bir fonksiyonu çağırıyor. Burada sıradışı bir şey yok.
Dediğimiz gibi, şimdiye kadar zaten hep böyle fonksiyonlar görmüştük.</p>
<p>Python fonksiyonları, yukarıdaki örnekte de gördüğünüz gibi, nasıl başka
fonksiyonları çağırabiliyorsa, aynı şekilde, istenirse, kendi kendilerini de
çağırabilirler. İşte bu tür fonksiyonlara Python programlama dilinde ‘kendi
kendilerini yineleyen’, veya daha teknik bir dille ifade etmek gerekirse
‘özyinelemeli’ (<em>recursive</em>) fonksiyonlar adı verilir.</p>
<p>Çok basit bir örnek verelim. Diyelim ki, kendisine parametre olarak verilen bir
karakter dizisi içindeki karakterleri teker teker azaltarak ekrana basan bir
fonksiyon yazmak istiyorsunuz. Yani mesela elinizde ‘istihza’ adlı bir karakter
dizisi var. Sizin amacınız bu karakter dizisini şu şekilde basan bir fonksiyon
yazmak:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">istihza</span>
<span class="n">stihza</span>
<span class="n">tihza</span>
<span class="n">ihza</span>
<span class="n">hza</span>
<span class="n">za</span>
<span class="n">a</span>
</pre></div>
</div>
<p>Elbette bu işi yapacak bir fonksiyonu, daha önce öğrendiğiniz döngüler ve başka
yapılar yardımıyla rahatlıkla yazabilirsiniz. Ama isterseniz aynı işi
özyinelemeli fonksiyonlar yardımıyla da yapabilirsiniz.</p>
<p>Şimdi şu kodlara dikkatlice bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">azalt</span><span class="p">(</span><span class="s1">&#39;istihza&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Bu kodlar bize yukarıda bahsettiğimiz çıktıyı verecek:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">istihza</span>
<span class="n">stihza</span>
<span class="n">tihza</span>
<span class="n">ihza</span>
<span class="n">hza</span>
<span class="n">za</span>
<span class="n">a</span>
</pre></div>
</div>
<p>Fonksiyonumuzu yazıp çalıştırdığımıza ve bu fonksiyonun bize nasıl bir çıktı
verdiğini gördüğümüze göre fonksiyonu açıklamaya geçebiliriz.</p>
<p>Bu fonksiyon ilk bakışta daha önce öğrendiğimiz fonksiyonlardan çok da farklı
görünmüyor aslında. Ama eğer fonksiyonun son kısmına bakacak olursanız, bu
fonksiyonu daha önce öğrendiğimiz fonksiyonlardan ayıran şu satırı görürsünüz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Gördüğünüz gibi, burada <code class="docutils literal notranslate"><span class="pre">azalt()</span></code> fonksiyonu içinde yine <code class="docutils literal notranslate"><span class="pre">azalt()</span></code>
fonksiyonunu çağırıyoruz. Böylece fonksiyonumuz sürekli olarak kendi kendini
yineliyor. Yani aynı fonksiyonu tekrar tekrar uyguluyor.</p>
<p>Peki ama bunu nasıl yapıyor?</p>
<p>Nasıl bir durumla karşı karşıya olduğumuzu daha iyi anlamak için yukarıdaki
kodları şu şekilde yazalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Burada fonksiyonun her yinelenişinde, özyinelemeli fonksiyona parametre olarak
giden karakter dizisinin nasıl değiştiğini birazcık daha net olarak görebilmek
için karakter dizisi içindeki karakterleri bir liste haline getirip ekrana
basıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<p>Bu kodları çalıştırdığımızda şu çıktıyı alacağız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Yukarıdaki çıktının ilk satırında gördüğünüz gibi, fonksiyon ilk çağrıldığında
listede ‘istihza’ karakter dizisini oluşturan bütün harfler var. Yani
fonksiyonumuz ilk çalışmada parametre olarak karakter dizisinin tamamını alıyor.
Ancak fonksiyonun her yinelenişinde listedeki harfler birer birer düşüyor.
Böylece özyinelemeli fonksiyonumuz parametre olarak karakter dizisinin her
defasında bir eksiltilmiş biçimini alıyor.</p>
<p>Yukarıdaki sözünü ettiğimiz düşmenin yönü karakter dizisinin başından sonuna
doğru. Yani her defasında, elde kalan karakter dizisinin ilk harfi düşüyor.
Düşme yönünün böyle olması bizim kodları yazış şeklimizden kaynaklanıyor. Eğer
bu kodları şöyle yazsaydık:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Harflerin düşme yönü sondan başa doğru olacaktı:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;i&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Burada, bir önceki koddaki <code class="docutils literal notranslate"><span class="pre">azalt(s[1:])</span></code> satırını <code class="docutils literal notranslate"><span class="pre">azalt(s[:-1])</span></code> şeklinde
değiştirdiğimize dikkat edin.</p>
<p>Fonksiyonun nasıl işlediğini daha iyi anlamak için, ‘istihza’ karakter dizisinin
son harfinin her yineleniş esnasındaki konumunun nasıl değiştiğini de
izleyebilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">n</span>
    <span class="n">mesaj</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> harfinin </span><span class="si">{}</span><span class="s1">. çalışmadaki konumu: </span><span class="si">{}</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mesaj</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

<span class="n">azalt</span><span class="p">(</span><span class="s1">&#39;istihza&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Bu kodlar şu çıktıyı verir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="n">harfinin</span> <span class="mf">1.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">2.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">5</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">3.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">4</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">4.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">3</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">5.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">6.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">a</span> <span class="n">harfinin</span> <span class="mf">7.</span> <span class="n">çalışmadaki</span> <span class="n">konumu</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Gördüğünüz gibi ‘istihza’ kelimesinin en sonunda bulunan ‘a’ harfi her defasında
baş tarafa doğru ilerliyor.</p>
<p>Aynı şekilde, kodları daha iyi anlayabilmek için, fonksiyona parametre olarak
verdiğimiz ‘istihza’ kelimesinin her yinelemede ne kadar uzunluğa sahip olduğunu
da takip edebilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Bu fonksiyonu ‘istihza’ karakter dizisine uyguladığımızda bize şu çıktıyı
veriyor:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>
<span class="mi">6</span>
<span class="mi">5</span>
<span class="mi">4</span>
<span class="mi">3</span>
<span class="mi">2</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Gördüğünüz gibi, fonksiyonun kendini her yineleyişinde karakter dizimiz
küçülüyor.</p>
<p>Bu durum bize özyinelemeli fonksiyonlar hakkında çok önemli bir bilgi veriyor
esasında:</p>
<p>Özyinelemeli fonksiyonlar; büyük bir problemin çözülebilmesi için, o problemin,
problemin bütününü temsil eden daha küçük bir parçası üzerinde işlem
yapabilmemizi sağlayan fonksiyonlardır.</p>
<p>Yukarıdaki örnekte de bu ilkeyi uyguluyoruz. Yani biz ‘istihza’ karakter
dizisinin öncelikle yalnızca ilk karakterini düşürüyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>Daha sonra da bu yöntemi özyinelemeli bir şekilde uyguladığımızda, ‘istihza’
karakter dizisinin her defasında daha küçük bir parçası bu yöntemden
etkileniyor:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Yani fonksiyonumuz ilk olarak ‘istihza’ karakter dizisinin ilk harfi olan ‘i’
harfini düşürüyor. Sonra ‘stihza’ kelimesinin ilk harfi olan ‘s’ harfini
düşürüyor. Ardından ‘tihza’ kelimesinin ilk harfi olan ‘t’ harfini düşürüyor ve
kelime tükenene kadar bu işlemi devam ettiriyor.</p>
<p>Peki ama bunu nasıl yapıyor?</p>
<p>Şimdi yukarıdaki fonksiyondaki şu kısma dikkatlice bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
<p>İşte burada özyinelemeli fonksiyonumuzun, karakter dizisi üzerinde ne kadar
derine inmesi gerektiğini belirliyoruz. Buna göre, karakter dizisinin uzunluğu
1’in altına düştüğünde eldeki karakter dizisini döndürüyoruz. Yani karakter
dizisinin uzunluğu 1’in altına düştüğünde elde kalan karakter dizisi boş bir
karakter dizisi olduğu için o boş karakter dizisini döndürüyoruz. Eğer istersek
elbette bu durumda başka bir şey de döndürebiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;bitti!&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>İşte <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">len(s)</span> <span class="pre">&lt;</span> <span class="pre">1:</span></code> bloğunun bulunduğu bu kodlara ‘dip nokta’ adı veriyoruz.
Fonksiyonumuzun yinelene yinelene (veya başka bir ifadeyle ‘dibe ine ine’)
geleceği en son nokta burasıdır. Eğer bu dip noktayı belirtmezsek fonksiyonumuz,
tıpkı dipsiz bir kuyuya düşmüş gibi, sürekli daha derine inmeye çalışacak,
sonunda da hata verecektir. Ne demek istediğimizi daha iyi anlamak için
kodlarımızı şöyle yazalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Gördüğünüz gibi burada herhangi bir dip nokta belirtmedik. Bu kodları
çalıştırdığımızda Python bize şöyle bir hata mesajı verecek:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">maximum</span> <span class="n">recursion</span> <span class="n">depth</span> <span class="n">exceeded</span>
</pre></div>
</div>
<p>Yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">ÇalışmaZamanıHatası</span><span class="p">:</span> <span class="n">Azami</span> <span class="n">özyineleme</span> <span class="n">derinliği</span> <span class="n">aşıldı</span>
</pre></div>
</div>
<p>Dediğimiz gibi, özyinelemeli fonksiyonlar her yinelenişte sorunun (yani üzerinde
işlem yapılan parametrenin) biraz daha derinine iner. Ancak bu derine inmenin de
bir sınırı vardır. Bu sınırın ne olduğunu şu kodlar yardımıyla
öğrenebilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrecursionlimit</span><span class="p">()</span>
</pre></div>
</div>
<p>İşte biz özyinelemeli fonksiyonlarımızda dip noktayı mutlaka belirterek,
Python’ın fonksiyonu yinelerken ne kadar derine inip nerede duracağını
belirlemiş oluyoruz.</p>
<p>Şimdi son kez, yukarıdaki örnek fonksiyonu, özyineleme mantığını çok daha iyi
anlamanızı sağlayacak bir şekilde yeniden yazacağız. Dikkatlice bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;özyineleme sürecine girerken:&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="n">azalt</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;özyineleme sürecinden çıkarken:&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">azalt</span><span class="p">(</span><span class="s1">&#39;istihza&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Burada, fonksiyon kendini yinelemeye başlamadan hemen önce bir <code class="docutils literal notranslate"><span class="pre">print()</span></code>
satırı yerleştirerek <cite>s</cite> değişkeninin durumunu takip ediyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;özyineleme sürecine girerken:&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>Aynı işlemi bir de fonksiyonun kendini yinelemeye başlamasının hemen ardından
yapıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;özyineleme sürecinden çıkarken:&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>Yukarıdaki kodlar bize şu çıktıyı verecek:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">istihza</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">stihza</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">tihza</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">ihza</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">hza</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">za</span>
<span class="n">özyineleme</span> <span class="n">sürecine</span> <span class="n">girerken</span><span class="p">:</span> <span class="n">a</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">a</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">za</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">hza</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">ihza</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">tihza</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">stihza</span>
<span class="n">özyineleme</span> <span class="n">sürecinden</span> <span class="n">çıkarken</span><span class="p">:</span> <span class="n">istihza</span>
</pre></div>
</div>
<p>Gördüğünüz gibi fonksiyon özyineleme sürecine girerken düşürdüğü her bir
karakteri, özyineleme sürecinden çıkarken yeniden döndürüyor. Bu, özyinelemeli
fonksiyonların önemli bir özelliğidir. Mesela bu özellikten yararlanarak şöyle
bir kod yazabilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">ters_çevir</span><span class="p">(</span><span class="s1">&#39;istihza&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Yazdığımız bu kodda <code class="docutils literal notranslate"><span class="pre">ters_çevir()</span></code> fonksiyonu, kendisine verilen parametreyi
ters çevirecektir. Yani yukarıdaki kod bize şu çıktıyı verir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span>
<span class="n">z</span>
<span class="n">h</span>
<span class="n">i</span>
<span class="n">t</span>
<span class="n">s</span>
<span class="n">i</span>
</pre></div>
</div>
<p>Burada yaptığımız şey çok basit: Yukarıda da söylediğimiz gibi, özyinelemeli
fonksiyonlar, özyineleme sürecine girerken yaptığı işi, özyineleme sürecinden
çıkarken tersine çevirir. İşte biz de bu özellikten yararlandık. Fonksiyonun
kendini yinelediği noktanın çıkışına bir <code class="docutils literal notranslate"><span class="pre">print()</span></code> fonksiyonu yerleştirip,
geri dönen karakterlerin ilk harfini ekrana bastık. Böylece <cite>s</cite> adlı
parametrenin tersini elde etmiş olduk.</p>
<p>Ancak eğer yukarıdaki kodları bu şekilde yazarsak, fonksiyondan dönen değeri her
yerde kullanamayız. Mesela yukarıdaki fonksiyonu aşağıdaki gibi kullanamayız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">kelime</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;kelime girin: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Girdiğiniz kelimenin tersi: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ters_çevir</span><span class="p">(</span><span class="n">kelime</span><span class="p">)))</span>
</pre></div>
</div>
<p>Fonksiyonumuzun daha kullanışlı olabilmesi için kodlarımızı şöyle yazabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">kelime</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;kelime girin: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Girdiğiniz kelimenin tersi: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ters_çevir</span><span class="p">(</span><span class="n">kelime</span><span class="p">)))</span>
</pre></div>
</div>
<p>Burada bizim amacımızı gerçekleştirmemizi sağlayan satır şu:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>İlk bakışta bu satırın nasıl çalıştığını anlamak zor gelebilir. Ama aslında son
derece basit bir mantığı var bu kodların. Şöyle düşünün: <code class="docutils literal notranslate"><span class="pre">ters_çevir()</span></code>
fonksiyonunu özyinelemeli olarak işlettiğimizde, yani şu kodu yazdığımızda:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>…döndürülecek son değer boş bir karakter dizisidir. İşte biz özyinelemeden
çıkılırken geri dönen karakterlerin ilk harflerini bu boş karakter dizisine
ekliyoruz ve böylece girdiğimiz karakter dizisinin ters halini elde etmiş
oluyoruz.</p>
<p>Yukarıdaki işlevin aynısını, özyinelemeli fonksiyonunuzu şöyle yazarak da elde
edebilirdiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ters_çevir</span><span class="p">(</span><span class="s1">&#39;istihza&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Burada aynı iş için farklı bir yaklaşım benimsedik. İlk olarak, dip noktasını şu
şekilde belirledik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
<p>Bildiğiniz gibi, boş veri tiplerinin bool değeri <code class="docutils literal notranslate"><span class="pre">False</span></code>’tur. Dolayısıyla
özyineleme sırasında <cite>s</cite> parametresinin uzunluğunun 1’in altına düşmesi, <cite>s</cite>
parametresinin içinin boşaldığını gösterir. Yani o anda <cite>s</cite> parametresinin bool
değeri <code class="docutils literal notranslate"><span class="pre">False</span></code> olur. Biz de yukarıda bu durumdan faydalandık.</p>
<p>Bir önceki kodlara göre bir başka farklılık da şu satırda:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Burada benimsediğimiz yaklaşımın özü şu: Bildiğiniz gibi bir karakter dizisini
ters çevirmek istediğimizde öncelikle bu karakter dizisinin en son karakterini
alıp en başa yerleştiririz. Yani mesela elimizdeki karakter dizisi ‘istihza’
ise, bu karakter dizisini ters çevirmenin ilk adımı bunun en son karakteri olan
‘a’ harfini alıp en başa koymaktır. Daha sonra da geri kalan harfleri tek tek
tersten buna ekleriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">düz</span><span class="p">:</span>  <span class="n">istihza</span>
<span class="n">ters</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">z</span> <span class="o">+</span> <span class="n">h</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="n">t</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">i</span>
</pre></div>
</div>
<p>İşte yukarıdaki fonksiyonda da yaptığımız şey tam anlamıyla budur.</p>
<p>Önce karakter dizisinin son harfini en başa koyuyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Ardından da buna geri kalan harfleri tek tek tersten ekliyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">ters_çevir</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Özyinelemeli fonksiyonlara ilişkin olarak yukarıda tek bir örnek üzerinde epey
açıklama yaptık. Bu örnek ve açıklamalar, özyinelemeli fonksiyonların nasıl
çalıştığı konusunda size epey fikir vermiş olmalı. Ancak elbette bu
fonksiyonları tek bir örnek yardımıyla tamamen anlayamamış olabilirsiniz. O
yüzden gelin isterseniz bir örnek daha verelim. Mesela bu kez de basit bir sayaç
yapalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="p">,</span> <span class="n">sınır</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sayı</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sayı</span> <span class="o">==</span> <span class="n">sınır</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;bitti!&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">sınır</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Bu fonksiyonun yaptığı işi elbette başka şekillerde çok daha kolay bir
şekilde halledebilirdik. Bu örneği burada vermemizin amacı yalnızca özyinelemeli
fonksiyonların nasıl işlediğini göstermek. Yoksa böyle bir işi özyinelemeli
fonksiyonlarla yapmanızı beklemiyoruz.</p>
</div>
<p>Yukarıdaki fonksiyona dikkatlice bakarsanız aslında yaptığı işi çok basit bir
şekilde gerçekleştirdiğini göreceksiniz.</p>
<p>Burada öncelikle <code class="docutils literal notranslate"><span class="pre">sayaç()</span></code> adlı bir fonksiyon tanımladık. Bu fonksiyon toplam
iki farklı parametre alıyor: <cite>sayı</cite> ve <cite>sınır</cite>.</p>
<p>Buna göre fonksiyonumuzu şöyle kullanıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sayaç</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
<p>Burada <cite>sayı</cite> parametresine verdiğimiz <cite>0</cite> değeri sayacımızın saymaya kaçtan
başlayacağını gösteriyor. <cite>sınır</cite> parametresine verdiğimiz <cite>100</cite> değeri ise kaça
kadar sayılacağını gösteriyor. Buna göre biz <cite>0</cite>’dan <cite>100</cite>’e kadar olan sayıları
sayıyoruz…</p>
<p>Gelin şimdi biraz fonksiyonumuzu inceleyelim.</p>
<p>İlk olarak şu satırı görüyoruz fonksiyon gövdesinde:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">sayı</span><span class="p">)</span>
</pre></div>
</div>
<p>Bu satır, özyinelemeli fonksiyonun her yinelenişinde <cite>sayı</cite> parametresinin
durumunu ekrana basacak.</p>
<p>Sonraki iki satırda ise şu kodları görüyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">sayı</span> <span class="o">==</span> <span class="n">sınır</span><span class="p">:</span>
    <span class="k">return</span> <span class="s1">&#39;bitti!&#39;</span>
</pre></div>
</div>
<p>Bu bizim ‘dip nokta’ adını verdiğimiz şey. Fonksiyonumuz yalnızca bu noktaya
kadar yineleyecek, bu noktanın ilerisine geçmeyecektir. Yani <cite>sayı</cite>
parametresinin değeri <cite>sınır</cite> parametresinin değerine ulaştığında özyineleme
işlemi de sona erecek. Eğer böyle bir dip nokta belirtmezsek fonksiyonumuz
sonsuza kadar kendini yinelemeye çalışacak, daha önce sözünü ettiğimiz
‘özyineleme limiti’ nedeniyle de belli bir aşamadan sonra hata verip çökecektir.</p>
<p>Sonraki satırlarda ise şu kodları görüyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">sınır</span><span class="p">)</span>
</pre></div>
</div>
<p>Bu satırlar, bir önceki aşamada belirttiğimiz dip noktaya ulaşılana kadar
fonksiyonumuzun hangi işlemleri yapacağını gösteriyor. Buna göre, fonksiyonun
her yinelenişinde <cite>sayı</cite> parametresinin değerini 1 sayı artırıyoruz.</p>
<p>Fonksiyonumuzu <code class="docutils literal notranslate"><span class="pre">sayaç(0,</span> <span class="pre">100)</span></code> gibi bir komutla çalıştırdığımızı düşünürsek,
fonksiyonun ilk çalışmasında <cite>0</cite> olan sayı değeri sonraki yinelemede <cite>1</cite>,
sonraki yinelemede <cite>2</cite>, sonraki yinelemede ise <cite>3</cite> olacak ve bu durum <cite>sınır</cite>
değer olan <cite>100</cite>’e varılana kadar devam edecektir. <cite>sayı</cite> parametresinin değeri
<cite>100</cite> olduğunda ise dip nokta olarak verdiğimiz ölçüt devreye girecek ve
fonksiyonun kendi kendisini yinelemesi işlemine son verilecektir.</p>
<p>Biz yukarıdaki örnekte yukarıya doğru sayan bir fonksiyon yazdık. Eğer yukarıdan
aşağıya doğru sayan bir sayaç yapmak isterseniz yukarıdaki fonksiyonu şu şekle
getirebilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="p">,</span> <span class="n">sınır</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sayı</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sayı</span> <span class="o">==</span> <span class="n">sınır</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;bitti!&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">sınır</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sayaç</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>Burada, önceki fonksiyonda <cite>+</cite> olan işleci <cite>-</cite> işlecine çevirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">sınır</span><span class="p">)</span>
</pre></div>
</div>
<p>Fonksiyonumuzu çağırırken de elbette <cite>sayı</cite> parametresinin değerini <cite>100</cite>
olarak, <cite>sınır</cite> parametresinin değerini ise <cite>0</cite> olarak belirledik.</p>
<p>Bu arada, daha önce de bahsettiğimiz gibi, özyinelemeli fonksiyonlar,
özyinelemeye başlarken döndürdükleri değeri, özyineleme işleminin sonunda tek
tek geri döndürür. Bu özelliği göz önünde bulundurarak yukarıdaki fonksiyonu şu
şekilde de yazabilirdiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="p">,</span> <span class="n">sınır</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">sayı</span> <span class="o">==</span> <span class="n">sınır</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;bitti!&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sayaç</span><span class="p">(</span><span class="n">sayı</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">sınır</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">sayı</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sayaç</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Dikkat ederseniz burada <code class="docutils literal notranslate"><span class="pre">print(sayı)</span></code> satırını özyineleme işlevinin çıkışına
yerleştirdik. Böylece <cite>0</cite>’dan <cite>10</cite>’a kadar olan sayıları tersten elde ettik.
Ancak tabii ki yukarıdaki anlamlı bir kod yazım tarzı değil. Çünkü
fonksiyonumuzun yazım tarzıyla yaptığı iş birbiriyle çok ilgisiz. Sayıları
yukarı doğru saymak üzere tasarlandığı belli olan bu kodlar, yalnızca bir
<code class="docutils literal notranslate"><span class="pre">print()</span></code> fonksiyonunun özyineleme çıkışına yerleştirilmesi sayesinde yaptığı
işi yapıyor…</p>
<p>Yukarıda verdiğimiz örnekler sayesinde artık özyinelemeli fonksiyonlar hakkında
en azından fikir sahibi olduğumuzu söyleyebiliriz. Gelin isterseniz şimdi
özyinelemeli fonksiyonlarla ilgili (biraz daha mantıklı) bir örnek vererek bu
çetrefilli konuyu zihnimizde netleştirmeye çalışalım.</p>
<p>Bu defaki örneğimizde iç içe geçmiş listeleri tek katmanlı bir liste haline
getireceğiz. Yani elimizde şöyle bir liste olduğunu varsayarsak:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="mi">12</span><span class="p">],</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
</pre></div>
</div>
<p>Yazacağımız kodlar bu listeyi şu hale getirecek:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>
</pre></div>
</div>
<p>Bu amacı gerçekleştirebilmek için şöyle bir fonksiyon yazalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">liste</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">liste</span><span class="p">]</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">liste</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="mi">12</span><span class="p">],</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
</pre></div>
</div>
<p>Bu fonksiyonu yukarıdaki iç içe geçmiş listeye uyguladığınızda istediğiniz
sonucu aldığınızı göreceksiniz.</p>
<p>İlk bakışta yukarıdaki kodları anlamak biraz zor gelmiş olabilir. Ama endişe
etmenize gerek yok. Zira biz bu kodları olabildiğince ayrıntılı bir şekilde
açıklayacağız.</p>
<p>İlk olarak dip noktamızı tanımlıyoruz her zamanki gibi:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">liste</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">liste</span><span class="p">]</span>
</pre></div>
</div>
<p>Fonksiyonumuzun temel çalışma prensibine göre liste içindeki bütün öğeleri tek
tek alıp başka bir liste içinde toplayacağız. Eğer liste elemanları üzerinde
ilerlerken karşımıza liste olmayan bir eleman çıkarsa bu elemanı <code class="docutils literal notranslate"><span class="pre">[liste]</span></code>
koduyla bir listeye dönüştüreceğiz.</p>
<p>Önceki örneklerden farklı olarak, bu kez kodlarımızda iki farklı dip noktası
kontrolü görüyoruz. İlkini yukarıda açıkladık. İkinci dip noktamız şu:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">elif</span> <span class="ow">not</span> <span class="n">liste</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">[]</span>
</pre></div>
</div>
<p>Burada yaptığımız şey şu: Eğer özyineleme esnasında boş bir liste ile
karşılaşırsak, tekrar boş bir liste döndürüyoruz. Peki ama neden?</p>
<p>Bildiğiniz gibi boş bir listenin 0. elemanı olmaz. Yani boş bir liste üzerinde
şu işlemi yapamayız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">IndexError</span>: <span class="n">list index out of range</span>
</pre></div>
</div>
<p>Gördüğünüz gibi, boş bir liste üzerinde indeksleme işlemi yapmaya
kalkıştığımızda hata alıyoruz. Şimdi durumu daha iyi anlayabilmek için
isterseniz yukarıdaki kodları bir de ikinci dip noktası kontrolü olmadan yazmayı
deneyelim:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">liste</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">liste</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span> <span class="mi">12</span><span class="p">],</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
</pre></div>
</div>
<p>Bu kodları çalıştırdığımızda şu hata mesajıyla karşılaşıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
  <span class="n">File</span> <span class="s2">&quot;deneme.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="n">düz_liste_yap</span>
    <span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="ne">IndexError</span><span class="p">:</span> <span class="nb">list</span> <span class="n">index</span> <span class="n">out</span> <span class="n">of</span> <span class="nb">range</span>
</pre></div>
</div>
<p>Gördüğünüz gibi, biraz önce boş bir liste üzerinde indeksleme yapmaya
çalıştığımızda aldığımız hatanın aynısı bu. Çünkü kodlarımızın <code class="docutils literal notranslate"><span class="pre">else</span></code> bloğuna
bakarsanız liste üzerinde indeksleme yaptığımızı görürsünüz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Elbette boş bir liste <code class="docutils literal notranslate"><span class="pre">liste[0]</span></code> veya <code class="docutils literal notranslate"><span class="pre">liste[1:]</span></code> gibi sorgulamalara
<code class="docutils literal notranslate"><span class="pre">IndexError</span></code> tipinde bir hata mesajıyla cevap verecektir. İşte böyle bir
durumda hata almamak için şu kodları yazıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">elif</span> <span class="ow">not</span> <span class="n">liste</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">[]</span>
</pre></div>
</div>
<p>Böylece özyineleme esnasında boş bir listeyle karşılaştığımızda bu listeyi şu
şekle dönüştürüyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="p">[[]]</span>
</pre></div>
</div>
<p>Böyle bir yapı üzerinde indeksleme yapılabilir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[[]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="go">[]</span>
</pre></div>
</div>
<p>Dip noktaya ulaşılana kadar yapılacak işlemler ise şunlar:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="n">düz_liste_yap</span><span class="p">(</span><span class="n">liste</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Yani listenin ilk öğesine, geri kalan öğeleri teker teker ekliyoruz.</p>
<p>Gelin bir örnek daha verelim:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">topla</span><span class="p">(</span><span class="n">sayilar</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sayilar</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ilk</span><span class="p">,</span> <span class="n">son</span> <span class="o">=</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">ilk</span><span class="o">+</span><span class="n">topla</span><span class="p">(</span><span class="n">son</span><span class="p">)</span>
</pre></div>
</div>
<p>Bu fonksiyonun görevi, kendisine liste olarak verilen sayıları birbiriyle
toplamak. Biz bu işi başka yöntemlerle de yapabileceğimizi biliyoruz, ama bizim
burada amacımız özyinelemeli fonksiyonları anlamak. O yüzden sayıları birbiriyle
toplama işlemini bir de bu şekilde yapmaya çalışacağız.</p>
<p>Elimizde şöyle bir liste olduğunu varsayalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>Böyle bir durumda fonksiyonumuz <cite>55</cite> çıktısı verir.</p>
<p>Gelelim bu fonksiyonu açıklamaya…</p>
<p>Her zamanki gibi ilk olarak dip noktamızı tanımlıyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sayilar</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Buna göre <cite>sayilar</cite> adlı listenin uzunluğu 1’in altına düşünce <cite>0</cite> değerini
döndürüyoruz. Burada <cite>0</cite> değerini döndürmemizin nedeni, listede öğe kalmadığında
programımızın hata vermesini önlemek. Eğer <cite>0</cite> dışında başka bir sayı
döndürürsek bu sayı toplama işleminin sonucuna etki edecektir. Toplama işleminin
sonucunu etkilemeyecek tek sayı <cite>0</cite> olduğu için biz de bu sayıyı döndürüyoruz.</p>
<p>Taban noktaya varılıncaya kadar yapılacak işlemler ise şunlar:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">ilk</span><span class="p">,</span> <span class="n">son</span> <span class="o">=</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="k">return</span> <span class="n">ilk</span><span class="o">+</span><span class="n">topla</span><span class="p">(</span><span class="n">son</span><span class="p">)</span>
</pre></div>
</div>
<p>Burada amacımız, listenin ilk sayısı ile listenin geri kalan öğelerini tek tek
birbiriyle toplamak. Bunun için <cite>sayilar</cite> adlı listenin ilk öğesini, listenin
geri kalanından ayırıyoruz ve ilk öğeyi <cite>ilk</cite>; geri kalan öğeleri ise <cite>son</cite> adlı
bir değişkene gönderiyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">ilk</span><span class="p">,</span> <span class="n">son</span> <span class="o">=</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>Sonra da ilk öğeyi, geri kalan liste öğeleri ile tek tek topluyoruz. Bunun için
de <code class="docutils literal notranslate"><span class="pre">topla()</span></code> fonksiyonunun kendisini <cite>son</cite> adlı değişken içinde tutulan liste
öğelerine özyinelemeli olarak uyguluyoruz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">ilk</span><span class="o">+</span><span class="n">topla</span><span class="p">(</span><span class="n">son</span><span class="p">)</span>
</pre></div>
</div>
<p>Böylece liste içindeki bütün öğelerin toplam değerini elde etmiş oluyoruz.</p>
<p>Bu arada, yeri gelmişken Python programlama dilinin pratik bir özelliğinden söz
edelim. Gördüğünüz gibi sayıların ilk öğesini geri kalan öğelerden ayırmak için
şöyle bir kod yazdık:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">ilk</span><span class="p">,</span> <span class="n">son</span> <span class="o">=</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sayilar</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
<p>Aslında aynı işi çok daha pratik bir şekilde de halledebilirdik. Dikkatlice
bakın:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">ilk</span><span class="p">,</span> <span class="o">*</span><span class="n">son</span> <span class="o">=</span> <span class="n">sayilar</span>
</pre></div>
</div>
<p>Böylece <cite>sayilar</cite> değişkenin ilk öğesi <cite>ilk</cite> değişkeninde, geri kalan öğeleri
ise <cite>son</cite> değişkeninde tutulacaktır. İlerleyen derslerde ‘Yürüyücüler’
(<em>Iterators</em>) konusunu işlerken bu yapıdan daha ayrıntılı bir şekilde söz
edeceğiz.</p>
</section>
<section id="ic-ice-nested-fonksiyonlar">
<h2>İç İçe (<em>Nested</em>) Fonksiyonlar<a class="headerlink" href="#ic-ice-nested-fonksiyonlar" title="Link to this heading">¶</a></h2>
<p>Bu bölümde iç içe fonksiyonların ne olduklarını ve nasıl kullanılabileceklerini
inceleceğiz.</p>
<section id="ic-ice-fonksiyonlar-nedir">
<h3>İç İçe Fonksiyonlar Nedir?<a class="headerlink" href="#ic-ice-fonksiyonlar-nedir" title="Link to this heading">¶</a></h3>
<p>İsminden anlayabileceğimiz gibi içe içe olan birden fazla fonksiyonumuz
olunca bunlara <em>nested</em>, yani iç içe fonksiyonlar diyoruz.
Aşağıdaki gibi iki fonksiyonumuz olduğunu düşünelim:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonk1</span><span class="p">():</span>
        <span class="k">def</span> <span class="nf">fonk2</span><span class="p">():</span>
                <span class="o">...</span>
</pre></div>
</div>
<p>Burada <code class="docutils literal notranslate"><span class="pre">fonk1</span></code> kapsayıcı (<em>enclosing</em>) veya dış fonksiyonumuz, <code class="docutils literal notranslate"><span class="pre">fonk2</span></code> ise içerideki (<em>nested</em>) yani iç
fonksiyonumuz oluyor. İç içe fonksiyonlarımızın ilginç özellikleri olduğunu
söyleyebiliriz. Ayrıca bu fonksiyonları iyice anlamak, ileride üreteçleri
(diğer bir adı ile yürüyücüleri) de daha iyi anlamamızı sağlayacaktır.</p>
<p>İç içe fonksiyonları anlamanın en iyi yolu örnek üzerinden gitmektir.
Şimdi şöyle bir fonksiyon tanımlayalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yazıcı</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">yaz</span><span class="p">(</span><span class="n">mesaj</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mesaj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yaz</span>
</pre></div>
</div>
<p>Kodu çalıştırıp etkileşimli kabuğu kullanalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">yazıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">(</span><span class="s2">&quot;Merhaba&quot;</span><span class="p">)</span>
<span class="go">Merhaba</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">&lt;function yazıcı.&lt;locals&gt;.yaz at 0x00000210D9235558&gt;</span>
</pre></div>
</div>
<p>Şimdi bu çıktılarımızı inceleyelim. <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuz çağrıldığında değer olarak
<code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonunu çeviriyor. Bu <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu da <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuzun
içerisinde tanımladığı için bizim <strong>iç</strong> fonksiyonumuz oluyor. <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> ise
<strong>kapsayıcı</strong> fonksiyonumuz. <code class="docutils literal notranslate"><span class="pre">y(&quot;Merhaba&quot;)</span></code> komutu çağırıldığında ekrana <code class="docutils literal notranslate"><span class="pre">Merhaba</span></code>
yazılıyor. Çünkü <code class="docutils literal notranslate"><span class="pre">y</span></code>’ye atanan değer olan <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonunun yaptığı iş
buydu. Dikkat ederseniz <code class="docutils literal notranslate"><span class="pre">y</span></code>’nin türünün de <code class="docutils literal notranslate"><span class="pre">function</span></code> olduğunu görebilirsiniz.
Son çıktımızda ise alışılmışın dışında bir <code class="docutils literal notranslate"><span class="pre">&lt;locals&gt;</span></code> ifadesi görüyoruz.
Şimdi biraz bunun üzerine konuşacağız.</p>
<p>Normalde bir fonksiyon yazdığımızda ve bu fonksiyon başka bir fonksiyonun içerisinde
olmadığında, programı çalıştırıldığımızda ve kod işleme sırası bu fonksiyona geldiğinde
fonksiyonumuz tanımlanmış olur. Yani bu fonksiyonun ne olduğu, ne yapacağı
artık Python yorumlayıcısı tarafından bilinmektedir. Ayrıca bu fonksiyondan sadece bir tane
vardır. Örneğin fonksiyonumuz şu şekilde ise:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonk</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Her <code class="docutils literal notranslate"><span class="pre">fonk()</span></code> yazdığımızda aynı fonksiyon çağrılır. Dikkat edin, aynı işlemler yapılır
demiyorum. Aynı fonksiyon çağrılır. Yapacağı işlem burada bizim için önemli değil.</p>
<p>Şimdi de iç içe fonksiyon tanımımıza ve şu <code class="docutils literal notranslate"><span class="pre">&lt;locals&gt;</span></code> kelimesine bakalım.
İlk önce:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yazıcı</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">yaz</span><span class="p">(</span><span class="n">mesaj</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mesaj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yaz</span>
</pre></div>
</div>
<p>Şeklinde kapsayıcı fonksiyonumuzu tanımlamış oluyoruz. Dikkat ederseniz sadece kapsa-
yıcı fonksiyonun tanımlandığını söyledim. Artık <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonunun, Python yorum-
layıcısı tarafından ne yapacağı, nasıl çalışacağı biliniyor. Ancak <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu için
aynı şeyleri söyleyemeyiz. Sonuç olarak bir fonksiyon çağırılmadan içerisindeki
komutlar çalışmaz. Eğer <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">yaz...</span></code> komutu çalışmaz ise de <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonumuz tanımlanmış
olmaz. Yani şu anda <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonumuz tanımlanmamıştır. Peki ne zaman tanımlanacaktır?
Tabii ki de <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuzu çağırdığımız zaman. Çünkü dediğimiz gibi,
yazıcı fonksiyonu çağrılmadığı sürece <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">yaz...</span></code> bölümü çalışmıyor. Python yorumlayıcısı
programımız çalışırken <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonunun <em>ne yapacağını</em> bilir, dolayısı ile de
<code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonununun <em>nasıl tanımlanacağını</em> bilir. Ancak <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu
tanımlanmadan önce <em>ne yapacağını</em> bilemez. Buradan önemli
yerlere varacağımız için bu kısmın anlaşılması gerekiyor. Şimdi şunu söyleyebiliriz ki
<code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuzu her çağırdımızda <code class="docutils literal notranslate"><span class="pre">yaz</span></code> sınıfı en baştan tanımlanır.
Bu da <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuzu her çağırışımızda yeni tanımlanan <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonunun
farklı ve tek olduğu anlamına gelir. Yani kapsayıcı olan <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonu
sadece bir tane iken döndürdüğü <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu birden fazla ve farklı oluyor.
Yani <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonumuzu her çağırdığımızda sadece o çağırışımıza özel bir
<code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu elde ediyoruz. İşte bu <code class="docutils literal notranslate"><span class="pre">&lt;locals&gt;</span></code> kelimesi buradan geliyor.
Yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">&lt;function yazıcı.&lt;locals&gt;.yaz at 0x00000210D9235558&gt;</span>
</pre></div>
</div>
<p>Bu demek oluyor ki bizim <code class="docutils literal notranslate"><span class="pre">y</span></code> değişkenimiz, daha önceki bir <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonunun çağrısına
ait, yani onun içinde tanımlanan bir <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonudur. <code class="docutils literal notranslate"><span class="pre">locals</span></code> da zaten
yerel değişkenler anlamına gelir. Yani buradaki <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonu, daha önce çağırdığımız
<code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonunun içinde tanımlanan yerel bir değişkendir. Tanımlanan her <code class="docutils literal notranslate"><span class="pre">yaz</span></code>
fonksiyonunun farklı olduğunu şu şekilde de görebiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">yazıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">yazıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">&lt;function yazıcı.&lt;locals&gt;.yaz at 0x00000210D9235558&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">&lt;function yazıcı.&lt;locals&gt;.yaz at 0x00000210D920E678&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">2271385703768</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">2271385544312</span>
</pre></div>
</div>
<p>Gördüğünüz gibi farklı <code class="docutils literal notranslate"><span class="pre">yaz</span></code> fonksiyonlarının hafızada saklandığı yerler de
farklı oluyor…</p>
<p>Bu konuda biraz daha ilerlemeden önce bilmemiz gereken başka şeyler de var.
Biraz da onlar hakkında konuşalım.</p>
</section>
<section id="nonlocal-deyimi">
<h3>‘nonlocal’ Deyimi<a class="headerlink" href="#nonlocal-deyimi" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> deyimi <em>yerel olmayan</em> anlamına gelir. Kullanım amacı <code class="docutils literal notranslate"><span class="pre">global</span></code> deyimi
ile benzerdir. Ancak bunu kullanmamız küresel yani global değişkenlere ulaşmamızı değil,
yerel olmayan değişkenlere ulaşmamızı sağlar. Ayrıca bu deyimi sadece iç içe fonksiyonlarda kullanabiliriz. Tabii bunu böyle söyleyince bir şey anlaşılmıyor. Örnek vermek lazım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">kapsayıcı_fonk</span><span class="p">():</span>
    <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">iç_fonk</span><span class="p">():</span>
        <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">non_local_değişken</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">iç_fonk</span>
</pre></div>
</div>
<p>Burada iç içe bir fonksiyon yapısına sahibiz. Şimdi bu kodumuzu çalıştırıp
etkileşimli kabukta denemeler yapalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dönüş_fonksiyonu</span> <span class="o">=</span> <span class="n">kapsayıcı_fonk</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dönüş_fonksiyonu</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Gördüğünüz gibi <code class="docutils literal notranslate"><span class="pre">1</span></code> yazılmadı. Yani kapsayıcı fonksiyona ait olan <code class="docutils literal notranslate"><span class="pre">non_local_değişken</span></code>
ile iç fonksiyonumuza ait olan <code class="docutils literal notranslate"><span class="pre">non_local_değişken</span></code> farklılar. Aynı bu örnekte:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span>    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">fonk</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">fonk</span><span class="p">()</span>
<span class="mi">2</span>
</pre></div>
</div>
<p>küresel <code class="docutils literal notranslate"><span class="pre">a</span></code> değişkeni ile <code class="docutils literal notranslate"><span class="pre">fonk</span></code> fonksiyonuna ait <code class="docutils literal notranslate"><span class="pre">a</span></code> değişkeninin farklı olması gibi.
Peki biz burada fonksiyon içinde de küresel <code class="docutils literal notranslate"><span class="pre">a</span></code>’yı kullanmak istersek nasıl yaparız?
Bir şey yapmamıza gerek yok, zaten fonksiyon kendi içinde <code class="docutils literal notranslate"><span class="pre">a</span></code> değişkenini bulamayınca global alana bakacaktır:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">fonk</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">fonk</span><span class="p">()</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Fakat eğer küresel olan <cite>a</cite> değişkenini değiştirmek istiyorsanız bildiğiniz gibi <code class="docutils literal notranslate"><span class="pre">global</span></code> deyimini kullanmamız lazım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">fonk</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">a</span>
    <span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">fonk</span><span class="p">()</span>
<span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="mi">2</span>
</pre></div>
</div>
<p>İşte aynı bunun gibi:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">kapsayıcı_fonk</span><span class="p">():</span>
    <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">iç_fonk</span><span class="p">():</span>
        <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">non_local_değişken</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">iç_fonk</span>
</pre></div>
</div>
<p>Örneğimizde de <code class="docutils literal notranslate"><span class="pre">iç_fonk</span></code>’un içinde <code class="docutils literal notranslate"><span class="pre">kapsayıcı_fonk</span></code>’a ait olan <code class="docutils literal notranslate"><span class="pre">non_local_değişken</span></code>
değişkenini değiştirmek istersek bunu da <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> deyimi ile şöyle yapabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">kapsayıcı_fonk</span><span class="p">():</span>
    <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">iç_fonk</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">non_local_değişken</span>
        <span class="n">non_local_değişken</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">non_local_değişken</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">iç_fonk</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">dönüş_fonksiyonu</span> <span class="o">=</span> <span class="n">kapsayıcı_fonk</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dönüş_fonksiyonu</span><span class="p">()</span>
<span class="mi">2</span>
</pre></div>
</div>
<p>Tabii bu değişkeni değiştirmek gibi bir amacımız yoksa, sadece kullanmak isteseydik şöyle de yapabilirdik ve <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> deyimine gerek kalmazdı:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">kapsayıcı_fonk</span><span class="p">():</span>
    <span class="n">non_local_değişken</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">iç_fonk</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">non_local_değişken</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">iç_fonk</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">dönüş_fonksiyonu</span> <span class="o">=</span> <span class="n">kapsayıcı_fonk</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dönüş_fonksiyonu</span><span class="p">()</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Gördüğünüz gibi <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ifadesi iç içe fonksiyonlar ile çalışırken iç fonksiyonda,
kapsayıcı fonksiyonunun değişkenlerini değiştirmemizi sağlıyor. Artık bu bilgiyi kullanarak
şöyle bir fonksiyon oluşturabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yazıcı</span><span class="p">(</span><span class="n">mesaj</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">yaz</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">mesaj</span>
        <span class="n">mesaj</span> <span class="o">+=</span> <span class="s2">&quot; Dünya&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mesaj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yaz</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">yazıcı</span><span class="p">(</span><span class="s2">&quot;Merhaba&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">()</span>
<span class="n">Merhaba</span> <span class="n">Dünya</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> deyiminin nasıl kullanıldığını bildiğiniz için örneğimizi anladığınızı
düşünüyorum. Burda yaptığımız tek farklı şey <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> deyimi ile birlikte
kullandığımız nesnenin <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonunun parametresi olması. Bunu yapmamızda
bir sakınca yoktur. Sonuç olarak <code class="docutils literal notranslate"><span class="pre">mesaj</span></code> parametresi, normalde de <code class="docutils literal notranslate"><span class="pre">yazıcı</span></code> fonksiyonu
içerisinde bir değişken gibi kullanılmaktadır. Ancak şunu da unutmayalım ki aynı
<code class="docutils literal notranslate"><span class="pre">global</span></code> ifadesini kullanırken olduğu gibi <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ifadesinde de eğer
daha üst bir alandaki değişkenin üzerinde bir değer atama işleci kullanmayacaksak
<code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ifadesini kullanmamıza gerek yoktur. Yani değişkeni <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ifadesi
olmadan da kullanabiliriz, ancak değerini değiştiremeyiz. Eğer yukarıdaki kodda <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code>
ifadesini kullanmazsak hata alırız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yazıcı</span><span class="p">(</span><span class="n">mesaj</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">yaz</span><span class="p">():</span>
        <span class="n">mesaj</span> <span class="o">+=</span> <span class="s2">&quot; Dünya&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mesaj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">yaz</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">yazıcı</span><span class="p">(</span><span class="s2">&quot;Merhaba Dünya&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">()</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;pyshell#1&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">y</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;C:\Users\Dinçel\Desktop\istihza.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="n">yaz</span>
    <span class="n">mesaj</span> <span class="o">+=</span> <span class="s2">&quot; Dünya&quot;</span>
<span class="ne">UnboundLocalError</span><span class="p">:</span> <span class="n">local</span> <span class="n">variable</span> <span class="s1">&#39;mesaj&#39;</span> <span class="n">referenced</span> <span class="n">before</span> <span class="n">assignment</span>
</pre></div>
</div>
<p>Sonuç olarak kapsayıcı fonksiyona ait değişkenleri, iç fonksiyonumuzda değiştirebilmek
için <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ifadesine ihtiyacımız vardır.</p>
<p>Şimdi en başta konuştuğumuz <code class="docutils literal notranslate"><span class="pre">&lt;locals&gt;</span></code> konusuna geri dönüyoruz. İç fonksiyonun,
çağırılan kapsayıcı fonksiyonun yerel değişkenlerinden biri olduğunu ve
her seferinde yeniden tanımlandığını, bu yüzden de aynı işi yapsalar da
aslında farklı olan fonksiyonlar elde ettiğimizi konuşmuştuk. Ancak her seferinde
yeniden tanımlanan tek şey iç fonksiyon değildir. Kapsayıcı fonksiyonun içindeki
her değişken, dış fonksiyonun her çağırılışında baştan tanımlanır.
Bunu şu örnek üzerinden anlamaya çalışalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayıcı</span><span class="p">():</span>
    <span class="n">sayı</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">say</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">sayı</span>
        <span class="n">sayı</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">sayı</span>
    <span class="k">return</span> <span class="n">say</span>
</pre></div>
</div>
<p>Kodumuzu kısaca incelersek <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonunda <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenini <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code>
hale getiriyoruz. Aynı zamanda <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonu her çağırıldığında <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değiş-
kenini de bir artırıp değer olarak döndürüyoruz. Şimdi kodumuzu çalıştıralım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">sayıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&lt;function sayıcı.&lt;locals&gt;.say at 0x000001FD2213ED38&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Gördüğünüz gibi ilginç bir şekilde <code class="docutils literal notranslate"><span class="pre">sayıcı</span></code> fonksiyonu çalışmış ve bitmiştir,
ancak içerisinde bulunan <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkeni silinmemiştir ve geri döndürülen
<code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonu tarafından kullanılmaya devam etmektedir. Yani biz göremesek de
<code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkeni hala bir yerlede saklanılıyordur. Peki normalde bir fonksiyonun
çalışması bitince yerel değişkenleri silinmez mi? Tabii ki silinir. Ancak burada <code class="docutils literal notranslate"><span class="pre">say</span></code>
fonksiyonu içinde <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenini <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> hale getirmiş oluyoruz. Yani aslında
biz <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenini kullanmaya devam ediyoruz. Eee şimdi Python kalkıp da bizim
kullanacağımız bir değişkeni silse ayıp olur. O da bunu yapmıyor zaten. Ancak
<code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkeni iç fonksiyon olan <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonunda hiç kullanılmasaydı silinirdi. Aslında bu
örnekteki kilit olaylardan biri de <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkeninin sadece bir defa tanımlanması
ve bu tanımın aynı <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonunda olduğu gibi <code class="docutils literal notranslate"><span class="pre">sayıcı</span></code> fonksiyonumuzun sadece bir çağırılışına özgü olması. Buradan iki sonuca varıyoruz:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sayıcı</span></code> sınıfını birden fazla defa çağırsak bile geri döndürülen her <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonu ekrana sayıları hep sırayla yazdıracaktır. Çünkü her <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonu kendisini tanımlayan <code class="docutils literal notranslate"><span class="pre">sayıcı</span></code> çağırılışına ait olan <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenini kullanmaktadır.</p></li>
<li><p>Her <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonunun kullandığı <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkeni sadece bir defa <code class="docutils literal notranslate"><span class="pre">0</span></code> olarak tanımlanmakta ve daha sonra <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonumuzu her çağırışımızda artmaktadır.</p></li>
</ul>
<p>Evet dediğimiz gibi farklı <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonları farklı <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenlerini kullanıyor:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">sayıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">sayıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Eğer bu örnekleri anlamakta zorluk çektiyseniz bunun çalışma mantığı olarak şunun ile aynı olduğunu söyleyebiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">sayı</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">def</span> <span class="nf">say</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">sayı</span>
    <span class="n">sayı</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sayı</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">say</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">()</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">()</span>
<span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">()</span>
<span class="mi">3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">()</span>
<span class="mi">4</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">global</span></code> deyimi ile yaptığımız bu örneğin <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> ile yaptığımız örnekten belki de en önemli
farkı, <code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> örneğinde <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenine doğrudan erişememizdir. Ama <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenini <code class="docutils literal notranslate"><span class="pre">say</span></code> fonksiyonu tarafından kullanılmaktadır. Ancak bizim <code class="docutils literal notranslate"><span class="pre">sayı</span></code> değişkenine bizzat erişememiz, gördüğümüz gibi, silindiği anlamına gelmiyor…</p>
</section>
<section id="ic-ice-fonksiyonlarin-kullanim-alanlari">
<h3>İç İçe Fonksiyonların Kullanım Alanları<a class="headerlink" href="#ic-ice-fonksiyonlarin-kullanim-alanlari" title="Link to this heading">¶</a></h3>
<p>Şu ana kadar iç içe fonksiyonların nasıl tanımlandığını ve nasıl çalıştığını öğrendik.
Ancak öğrenme aşamasında olduğumuz için buraya kadar hep basit örnekler verdik.
Şimdi bazı işe yarar örnekler vereceğiz ve ne zaman içe içe fonksiyon kullanıp ne zaman normal fonksiyonlar
kullanmamızın daha doğru olacağını konuşacağız.</p>
<p>Öncelikle şunu söyleyelim ki iç içe fonksiyonların en fazla kullanıldığı yer bezeyicilerdir.
Bu daha sonra göreceğimiz bir konu ancak orada iç içe fonksiyonları çok fazla kullanacağız, haberiniz olsun.</p>
<p>İç içe fonksiyonlar bazı işlemleri daha verimli yapmamızı sağlayabileceği gibi bazı işlemleri de
(yanlış veya gereksiz yere kullanırsak) yavaşlatırlar. Mesela şu fonksiyona bakalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">işlem_yap</span><span class="p">(</span><span class="n">sayı</span><span class="p">,</span> <span class="n">bölen</span><span class="p">,</span> <span class="o">*</span><span class="n">eklenenler</span><span class="p">):</span>
    <span class="n">sonuç</span> <span class="o">=</span> <span class="n">sayı</span> <span class="o">/</span> <span class="n">bölen</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">eklenenler</span><span class="p">:</span>
        <span class="n">sonuç</span> <span class="o">+=</span> <span class="n">i</span>

    <span class="k">return</span> <span class="n">sonuç</span>
</pre></div>
</div>
<p>Bu fonksiyonumuz aldığı <code class="docutils literal notranslate"><span class="pre">sayı</span></code> parametresini <code class="docutils literal notranslate"><span class="pre">bölen</span></code> parametresi ile böldükten sonra geriye kalan bütün parametreleri sonuca ekleyip geri döndürüyor. <code class="docutils literal notranslate"><span class="pre">*eklenenler</span></code>’in ne anlama geldiğini zaten daha önce öğrenmiştik. şimdi bu fonksiyonu kullanalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">17.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">6.0</span>
</pre></div>
</div>
<p>Şimdi diyelim ki biz yazdığımız programda farklı <code class="docutils literal notranslate"><span class="pre">sayı</span></code> ve <code class="docutils literal notranslate"><span class="pre">bölen</span></code> parametreleri ile hep aynı <code class="docutils literal notranslate"><span class="pre">eklenenler</span></code> parametrelerini kullanacağız. Yani şunun gibi işlemler yapacağız:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">12.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">15.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">22.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">13.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">14.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlem_yap</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">18.0</span>
</pre></div>
</div>
<p>Burada görebileceğimiz gibi aynı <code class="docutils literal notranslate"><span class="pre">eklenenler</span></code> değerleri çoklukla kullanılıyor. Böyle bir durumda toplama işlemini her seferinde gerçekleştirmemiz gereksiz oluyor. Bu işlemin sadece bir defa yapılmasını şu şekilde sağlayabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">işlem_yapıcı</span><span class="p">(</span><span class="o">*</span><span class="n">eklenenler</span><span class="p">):</span>
    <span class="n">ekle</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">eklenenler</span><span class="p">:</span>
        <span class="n">ekle</span> <span class="o">+=</span> <span class="n">i</span>

    <span class="k">def</span> <span class="nf">işlem</span><span class="p">(</span><span class="n">sayı</span><span class="p">,</span> <span class="n">bölen</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sayı</span><span class="o">/</span><span class="n">bölen</span> <span class="o">+</span> <span class="n">ekle</span>

    <span class="k">return</span> <span class="n">işlem</span>
</pre></div>
</div>
<p>Bu kodumuzda <code class="docutils literal notranslate"><span class="pre">işlem_yapıcı</span></code> fonksiyonu hep aynı olacağı için değişmeyecek olan <code class="docutils literal notranslate"><span class="pre">eklenenler</span></code> parametresini sadece bir defa alıyor ve hepsini topluyor, daha sonra <code class="docutils literal notranslate"><span class="pre">işlem</span></code> fonksiyonunu geri döndürüyor. <code class="docutils literal notranslate"><span class="pre">işlem</span></code> fonksiyonunu çağırdığımızda da <code class="docutils literal notranslate"><span class="pre">sayı</span></code> ve <code class="docutils literal notranslate"><span class="pre">bölen</span></code> parametrelerini veriyoruz ve işlemin sonucu bize geri dönüyor. İlk yaptığımız işlemleri bir de böyle kullanalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci</span> <span class="o">=</span> <span class="n">işlem_yapıcı</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci2</span> <span class="o">=</span> <span class="n">işlem_yapıcı</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">12.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="go">15.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">22.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci2</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">13.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci2</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">14.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">işlemci2</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="go">18.0</span>
</pre></div>
</div>
<p>Artık gerekli işlemi yapacak fonksiyonu sadece bir defa oluşturuyoruz ve sürekli onu kullanıyoruz. Bu da aynı parametrelerin sürekli fonksiyona parametre olarak yollanmasını engelliyor ve gerekli işlemlerin sadece bir defa yapılmasını sağlıyor. Kendi yazdığınız kodlarda herhangi bir amaç ile bir fonksiyon oluşturduğunuzda ve bu fonksiyonu da kullanırken bunun gibi bir durum ile karşılaştırdığımızda artık iç içe fonksiyonları kullanarak kodu nasıl daha verimli hale getireceğiniz hakkında aklınızda bir fikir oluşmuştur diye düşünüyorum.</p>
<p>Şimdi de bir fonksiyon oluştururken o fonksiyonun içinde kod tekrarları yaptığımız fark ettiğimizi varsayalım. Böyle bir durumda bu kod tekrarlarını da azaltmak için bir fonksiyon daha yazmamız iyi olacaktır. Yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dosyadaki_karakter_sayısı</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="n">karakter</span><span class="p">):</span>
    <span class="n">sonuç</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">dosya</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">veri</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">veri</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">karakter</span><span class="p">:</span>
                    <span class="n">sonuç</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">veri</span> <span class="o">=</span> <span class="n">dosya</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">veri</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">karakter</span><span class="p">:</span>
                <span class="n">sonuç</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">sonuç</span>
</pre></div>
</div>
<p>Elimizde bir dosyayı okuyacak ve bu dosyadaki belli bir karakterin sayını döndürecek bir fonksiyon var. Ama bu fonksiyon <code class="docutils literal notranslate"><span class="pre">dosya</span></code> parametresi olarak hem dosyanın ismini hem de açılmış bir dosyanın kendisini alabiliyor. <cite>if type(dosya) == str:</cite> kısmı <code class="docutils literal notranslate"><span class="pre">dosya</span></code>
değişkeninin türünün <code class="docutils literal notranslate"><span class="pre">str</span></code> olup olmadığını kontrol ediyor, eğer öyleyse dosyayı açıyoruz ve okuyoruz. Öyle değilse dosyayı direkt okuyoruz. Dikkat ederseniz daha sonra yapılan işlemler aynı, yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">veri</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">karakter</span><span class="p">:</span>
        <span class="n">sonuç</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>kısmı iki defa tekrar ediyor. Hatırlarsanız bir karakter dizisinin içinde herhangi bir karakterin kaç defa geçtiğini öğrenmek için <code class="docutils literal notranslate"><span class="pre">count</span></code> metodundan faydalanabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;merhaba&quot;</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Ama burada örneğimiz anlaşılsın diye bunu kendimiz yapıyoruz.</p>
<p>Şimdi yukarıdaki tekrar eden yeri şu şekilde ayrı bir fonksiyon haline getirebiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">karakter_sayısı</span><span class="p">(</span><span class="n">karakter_dizisi</span><span class="p">,</span> <span class="n">karakter</span><span class="p">):</span>
    <span class="n">sayaç</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">karakter_dizisi</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">karakter</span><span class="p">:</span>
            <span class="n">sayaç</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">sayaç</span>

<span class="k">def</span> <span class="nf">dosyadaki_karakter_sayısı</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="n">karakter</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">dosya</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">karakter_sayısı</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">karakter</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">karakter_sayısı</span><span class="p">(</span><span class="n">dosya</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">karakter</span><span class="p">)</span>
</pre></div>
</div>
<p>Artık karakter dizisinin içinde bir karakterin kaç defa geçtiğini bulmak için <code class="docutils literal notranslate"><span class="pre">karakter_sayısı</span></code> sayısı adlı fonksiyon yararlanıyoruz. Ancak bizim bu fonksiyonu tanımlama sebebimiz <cite>dosyadaki_karakter_sayısı</cite> fonksiyonunda yaptığımız bir işlemi yerine getirmekdi. Eğer <code class="docutils literal notranslate"><span class="pre">karakter_sayısı</span></code> fonksiyonunu programımızda sadece <code class="docutils literal notranslate"><span class="pre">dosyadaki_karakter_sayısı</span></code> fonksiyonu içinde kullanacaksak bu fonksiyonu global alanda tanımlamamıza gerek yokü, <cite>dosyadaki_karakter_sayısı</cite> fonksiyonunun içinde de tanımlayabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dosyadaki_karakter_sayısı</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="n">karakter</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">karakter_sayısı</span><span class="p">(</span><span class="n">karakter_dizisi</span><span class="p">):</span>
        <span class="n">sayaç</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">karakter_dizisi</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">karakter</span><span class="p">:</span>
                <span class="n">sayaç</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">sayaç</span>

    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">dosya</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dosya</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">karakter_sayısı</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">karakter_sayısı</span><span class="p">(</span><span class="n">dosya</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>Ayrıca bu şekilde <code class="docutils literal notranslate"><span class="pre">karakter_sayısı</span></code> fonksiyonunun <code class="docutils literal notranslate"><span class="pre">karakter</span></code> şeklinde bir parametreye ihtiyacı kalmadı, zaten
<cite>dosyadaki_karakter_sayısı</cite> fonksiyonunun içindeki <code class="docutils literal notranslate"><span class="pre">karakter</span></code> değişkenine erişebiliyor. İç içe fonksiyonları bunun gibi durumlarda da kullanabiliriz.</p>
</section>
</section>
<section id="uretecler-generators">
<h2>Üreteçler (<em>Generators</em>)<a class="headerlink" href="#uretecler-generators" title="Link to this heading">¶</a></h2>
<p>Biz üreteçlerle az çok tanışıyoruz. Liste üreteçleri olsun, sözlük üreteçleri
olsun bu konu hakkında bir şeyler öğrenmiştik. Ancak biz üreteçlerimizi hep
şunun gibi tanımlamıştık:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>Dikkat ederseniz burada <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(10)</span></code> kısmı (nasıl <code class="docutils literal notranslate"><span class="pre">lambda</span></code> fonksiyonlar normal yolla tanımlanan fonksiyonlardan farklı bir söz dizimi kullanıyorsa) normal kodlardan biraz farklı bir söz dizimi kullanıyor. Bu söz dizimi ile karmaşık
algoritmalar oluşturmak zordur, çoğunlukla da mümkün değildir. Zaten bunun bulunma sebebi
karmaşık algoritmalarda kullanılması değil, kısa işlerde yazım kolaylığı sağlamasıdır.
Yani bu yazım şekli, bazı fonksiyonların <code class="docutils literal notranslate"><span class="pre">lambda</span></code> olarak tanımlanması gibi,
üreteç tanımlamanın sadece kısa bir yoludur. Peki aslında üreteçler nasıl
tanımlanır? Şimdi gelin bu konuyu inceleyelim.</p>
<section id="ureteclere-giris">
<h3>Üreteçlere Giriş<a class="headerlink" href="#ureteclere-giris" title="Link to this heading">¶</a></h3>
<p>Üreteçler, fonksiyonlara benzer şekilde tanımlanır. Hatta tek farkının <code class="docutils literal notranslate"><span class="pre">yield</span></code>
adındaki bir ifade olduğunu söyleyebiliriz. Hatırlarsanız iç içe fonksiyonlar
konusunda üreteçler konusuna birkaç defa atıfta bulunmuştuk.
Bu yüzden aynı işi yapacak iç içe bir fonksiyon ile bir üreteci karşılaştırarak
konuya başlamak istiyorum:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fonksiyon_sayıcı</span><span class="p">():</span>
    <span class="n">sayı</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">say</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">sayı</span>
        <span class="n">sayı</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">sayı</span>
    <span class="k">return</span> <span class="n">say</span>

<span class="k">def</span> <span class="nf">üreteç_sayıcı</span><span class="p">():</span>
    <span class="n">sayı</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">sayı</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="n">sayı</span>
</pre></div>
</div>
<p>Endişe etmeyin. İleride <code class="docutils literal notranslate"><span class="pre">üreteç_sayıcı</span></code>’nın nasıl çalıştığını inceleyeceğiz.
Şimdilik sadece şuraya odaklanalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">fonksiyon_sayıcı</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç_sayıcı</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span> <span class="o">=</span> <span class="n">fonksiyon_sayıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="n">üreteç_sayıcı</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">fonk</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">&lt;class &#39;generator&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span><span class="p">()</span>
<span class="go">4</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">fonk</span></code> ve <code class="docutils literal notranslate"><span class="pre">üreteç</span></code> değişkenlerini kullanarak elde ettiğimiz sonuçların aynı olduğunu görebiliyorsunuz. Şimdi
bundan faydalanarak tanımlanma şekillerini anlamaya çalışalım.</p>
<p><code class="docutils literal notranslate"><span class="pre">fonk</span></code> fonksiyonunun nasıl çalıştığını zaten iç içe fonksiyonlar konusunda gördük.
Şimdi <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu ve <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimi ile alakalı konuşalım. Öncelikle
şunu söylemek gerekir ki <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu, gömülü bir fonksiyondur. Ne işe yaradığını anlamak
için ise <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimini anlamamız gerekiyor. Eğer kodumuzu ve aldığımız
çıktıları incelerseniz <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyiminin, <code class="docutils literal notranslate"><span class="pre">return</span></code> deyimine bazı yönlerden
benzediğini fark edebilirsiniz. Tabii önemli farklılıklar da var. Bir kere
fark edeceğiniz gibi <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimi hangi değeri döndüreceğimizi
belirliyor. Peki bu döndürme işleminin <code class="docutils literal notranslate"><span class="pre">return</span></code> ile değer döndürmekten
ne farkı var? Bir fonksiyonun içinde <code class="docutils literal notranslate"><span class="pre">return</span></code> deyimine ulaşıldığında
fonksiyon sonlanır ve fonksiyona ait yerel değişkenler silinir. <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyiminde böyle
bir şey söz konusu değildir. Aynı iç içe fonksiyonlarda iç fonksiyonunun dış fonksiyondaki değişkeni kullanması gibi
üreteçlerin de yerel değişkenleri Python tarafından saklanır. Ancak üreteçlerde
belli değişkenler değil, yerel değişkenlerin tamamı saklanır. Şimdi yukarıdaki örnekte şu üç kısma
tekrar bakarsak:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">fonksiyon_sayıcı</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç_sayıcı</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fonk</span> <span class="o">=</span> <span class="n">fonksiyon_sayıcı</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="n">üreteç_sayıcı</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">fonk</span><span class="p">)</span>
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">&lt;class &#39;generator&#39;&gt;</span>
</pre></div>
</div>
<p>Şunu görüyoruz ki <code class="docutils literal notranslate"><span class="pre">üreteç_sayıcı</span></code> aslında bir fonksiyon. Ama alelade bir
fonksiyon değil, çağrıldığında <code class="docutils literal notranslate"><span class="pre">generator</span></code> nesnesi döndüren bir fonksiyon.
Yani aynı iç içe fonksiyonlarda önce kapsayıcı fonksiyonu çağırıp dönüş değerini kullandığımız
gibi üreteçlerde de önce üreteci tanımladığımız fonksiyonu çağırıp dönüş değerini
kullanıyoruz. Çünkü aslında üreteç olan nesne, bu döndürülen değerdir. Ve aynı
iç içe fonksiyonlarda olduğu gibi bu durum birbirinden bağımsız ancak aynı işi
yapan değişkenler oluşturmamızı sağlar. Dikkat ederseniz iç içe fonksiyonlar ve
üreteçler, çalışma prensibi açısından benzerler. Ancak üreteçler <code class="docutils literal notranslate"><span class="pre">yield</span></code> ifadesininin
kullanımı ile bize daha kullanışlı bir algoritma şekli vermektedir.</p>
<p>Şu ana kadar üreteçlerin nasıl tanımlandığı ve nasıl kullanıldığı hakkında pek de bilgi
vermedik. Yaptığımız şey, iç içe fonksiyonlar ile üreteçlerin, çalışma
prensiblerinin ne kadar benzer olduğuna dikkat çekmek idi. Şimdi <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu ve
<code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimi hakkında konuşarak kendi üreteçlerimizi nasıl tanımlayacağımıza
bakalım.</p>
</section>
<section id="ureteclerin-tanimlanmasi">
<h3>Üreteçlerin Tanımlanması<a class="headerlink" href="#ureteclerin-tanimlanmasi" title="Link to this heading">¶</a></h3>
<section id="yield-deyimi-ve-next-fonksiyonu">
<h4>‘yield’ Deyimi ve ‘next’ Fonksiyonu<a class="headerlink" href="#yield-deyimi-ve-next-fonksiyonu" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonunun gömülü bir fonksiyon olduğunu söylemiştik. <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimi da
üretecimizden değer döndürmemizi sağlıyordu. Peki bu işlemler hangi kurallar çerçevesinde
gerçekleşiyor?</p>
<p>Basit bir üreteç tanımlayarak <code class="docutils literal notranslate"><span class="pre">yield</span></code> metodunu anlatmaya çalışalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç</span><span class="p">():</span>
        <span class="k">yield</span> <span class="s2">&quot;Merhaba&quot;</span>
        <span class="k">yield</span> <span class="s2">&quot;Dünya&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">return</span></code> deyiminin fonksiyonu sonlandırırken <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimi üretecin çalışmasına ara
verir ve sağındaki değişkeni geriye döndürür. Herhangi bir değer verilmemiş ise <code class="docutils literal notranslate"><span class="pre">None</span></code> döndürecektir.
Şimdi kodumuzu çalıştıralım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">üreteç</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&quot;Merhaba&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&quot;Dünya&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#5&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="w">    </span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
<p>Çıktımızı incelersek <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonunun, kendisine verilen üretecin kodunu bir <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimine
rastlayana kadar çalıştırdığını, <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimine rastladığında ise deyimin sağındaki
değişkeni döndürdüğünü görebiliriz. Unutmayalım ki bu döndürme işlemini yapan <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonudur.
Üretecimizin içinde herhangi bir yönerge kalmadığında ise <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonumuz <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code>
hatası yükseltmektedir.</p>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>‘next’ fonksiyonunun burada yaptığı iş için ‘yineleme (iteration)’ terimi kullanılır.
‘next’ fonksiyonuna parametre olarak verilebilen nesneler ise birer ‘yinelenebilir nesne
(iterable object)’dir. ‘generator’ sınıfı yinelenebilir nesnelere bir örnektir.</p>
</div>
<p>Bir örnek daha yapalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üreteç ilk defa next fonksiyonu ile kullanıldı.&quot;</span><span class="p">)</span>
    <span class="k">yield</span> <span class="s2">&quot;1. yield&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üreteç ikinci defa next fonksiyonu ile kullanıldı.&quot;</span><span class="p">)</span>
    <span class="k">yield</span> <span class="s2">&quot;2. yield&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üreteç üçüncü defa next fonksiyonu ile kullanıldı ve bitti.&quot;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">üreteç</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ilk_dönüş</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">üreteç</span> <span class="n">ilk</span> <span class="n">defa</span> <span class="nb">next</span> <span class="n">fonksiyonu</span> <span class="n">ile</span> <span class="n">kullanıldı</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ikinci_dönüş</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">üreteç</span> <span class="n">ikinci</span> <span class="n">defa</span> <span class="nb">next</span> <span class="n">fonksiyonu</span> <span class="n">ile</span> <span class="n">kullanıldı</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">son_dönüş</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">üreteç</span> <span class="n">üçüncü</span> <span class="n">defa</span> <span class="nb">next</span> <span class="n">fonksiyonu</span> <span class="n">ile</span> <span class="n">kullanıldı</span> <span class="n">ve</span> <span class="n">bitti</span><span class="o">.</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;pyshell#5&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="ne">StopIteration</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ilk_dönüş</span>
<span class="s1">&#39;1. yield&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ikinci_dönüş</span>
<span class="s1">&#39;2. yield&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">son_dönüş</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;pyshell#0&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">son_dönüş</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;son_dönüş&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Örneğimiz gayet açık. <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu kendisine verilen üretecin kodunu en sol kaldığı yerden çalıştırmaya devam ediyor, bir <code class="docutils literal notranslate"><span class="pre">yield</span></code> ifadesine denk geldiğinde de üretecin çalışması duruyor ve <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyiminin sağındaki değeri geri döndürüyor. Tabii <code class="docutils literal notranslate"><span class="pre">son_dönüş</span></code>’ün <code class="docutils literal notranslate"><span class="pre">None</span></code> olmak yerine tanımlanmamış olması da ilginç gelmiş olabilir. Bunu da şu örnekle açıklayabiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">hata</span><span class="p">():</span>
<span class="go">        raise Exception</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">dönüş</span> <span class="o">=</span> <span class="n">hata</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#8&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="w">    </span><span class="n">dönüş</span> <span class="o">=</span> <span class="n">hata</span><span class="p">()</span>
  File <span class="nb">&quot;&lt;pyshell#7&gt;&quot;</span>, line <span class="m">2</span>, in <span class="n">hata</span>
<span class="w">    </span><span class="k">raise</span> <span class="ne">Exception</span>
<span class="gr">Exception</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dönüş</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#9&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="w">    </span><span class="n">dönüş</span>
<span class="gr">NameError</span>: <span class="n">name &#39;dönüş&#39; is not defined</span>
</pre></div>
</div>
<p>Gördüğümüz gibi <code class="docutils literal notranslate"><span class="pre">son_dönüş</span></code> değişkenimizin tanımlanmamış olmasının sebebi de <code class="docutils literal notranslate"><span class="pre">next</span></code>
fonksiyonunun değer döndürmek yerine hata yükseltmiş olmasıdır.</p>
<p>Buraya kadar yaptığımız örnekleri iç içe fonksiyonlar ile de kolayca yapabilirdik. Üreteçlerin
önemli bir özelliği de tanımlanırken , fonksiyonlar gibi, her türlü ifade ile kullanılabilmesidir.
Örnek olarak <code class="docutils literal notranslate"><span class="pre">while</span></code> döngüsü kullanarak, 1’den başlayarak her yinelediğimizde fibonacci
sayı dizisinin bir sonraki elemanını döndürecek bir üreteç yazalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span>
        <span class="k">yield</span> <span class="n">x</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p>Fibonacci dizisi, 0 ve 1 ile başlayan ve her sayının kendisinden önce gelen
iki sayının toplanması ile elde edildiği bir sayı dizisidir. İtalyan matematikçi
Leonardo Fibonacci’den adını alır. 0, 1, 1 (0+1), 2 (1+1), 3 (1+2), 5 (2+3), 8 (3+5), 13 (5+8), 21 (8+13), 34 (13+21)
şeklinde devam eder.</p>
</div>
<p>Şimdi bu kodu çalıştıralım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">fibonacci</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">13</span>
</pre></div>
</div>
<p>Gördüğünüz gibi üretecimiz bize (ilk 0 ve 1 sonrasındaki) fibonacci sayılarını vermektedir. Kodumuzu anlamaya çalışırsak:</p>
<ul class="simple">
<li><p>İlk yinelemede, yani <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonunu ilk kullanışımızda, <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> ve <code class="docutils literal notranslate"><span class="pre">z</span></code> değişkenleri tanımlanıyor. Daha sonra <code class="docutils literal notranslate"><span class="pre">while</span></code> döngüsüne giriliyor. Değişkenlerin değerleri değiştirildikten sonra <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">x</span></code> deyimine geldiğimiz için <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonu <code class="docutils literal notranslate"><span class="pre">x</span></code> değerini döndürürerek üretecemizin çalışmasını durduruyor.</p></li>
<li><p>İkinci yinelememizde normal bir kodda olacağı gibi <code class="docutils literal notranslate"><span class="pre">while</span></code> döngümüzün başına gidiliyor. Aynı işlemler tekrarlanıyor. Tekrar <code class="docutils literal notranslate"><span class="pre">yield</span></code> deyimine geliniyor. <code class="docutils literal notranslate"><span class="pre">x</span></code> değeri döndürürülüyor. Üretecimizin çalışması durduruluyor ve aynı şeyler tekrar etmeye devam ediyor.</p></li>
</ul>
<p>Üreteçlerin çok güzel özelliklerinden biri de <code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsü ile kullanılabilmeleridir.
Örneğin <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> üretecimiz için bunu uygulayalım:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fibonacci</span><span class="p">():</span>
<span class="go">    print(i)</span>

<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">5</span>
<span class="go">8</span>
<span class="go">13</span>
<span class="go">21</span>
<span class="go">34</span>
<span class="go">55</span>
<span class="go">89</span>
<span class="go">144</span>
<span class="go">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Not</p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">fibonacci()</span></code> ifadesinde <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> fonksiyonunu çağırdığımıza dikkat
edin. Sonuçta üretecimizin kendisi <code class="docutils literal notranslate"><span class="pre">fibonacci</span></code> fonksiyonu değil, onun döndüreceği değer.</p>
</div>
<p>Ancak bu örnekte üretecimiz hiç durmuyor. Bazen üreteçlerimizin durmasını isteyebiliriz.
Bunu yapmamız için tek gereken şey üretecimizin durmasını istediğimiz yerde üretecimizi
<code class="docutils literal notranslate"><span class="pre">return</span></code> etmemizdir. Sonuçta üreteçler de bir tür fonksiyondur ve <code class="docutils literal notranslate"><span class="pre">return</span></code> deyimi
fonksiyonları sonlandırır (bu <code class="docutils literal notranslate"><span class="pre">return</span></code> deyiminden dönen değer üreteçlerde bize ulaşmaz).
Bu durum <code class="docutils literal notranslate"><span class="pre">next</span></code> fonksiyonunun <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> yükseltmesine neden olur.
<code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsü bu hatayı yakalar ve üretecimizin bittiğini anlar:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span>
        <span class="k">yield</span> <span class="n">x</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
            <span class="k">return</span>


<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fibonacci</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="mi">5</span>
<span class="mi">8</span>
<span class="mi">13</span>
<span class="mi">21</span>
<span class="mi">34</span>
<span class="mi">55</span>
<span class="mi">89</span>
<span class="mi">144</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Gördüğünüz gibi üretecimiz <code class="docutils literal notranslate"><span class="pre">100</span></code>’den büyük bir tane daha değer yazıp durdu. Tabii burada
fazladan bir <code class="docutils literal notranslate"><span class="pre">if</span></code> kullanmak yerine bu şartı <code class="docutils literal notranslate"><span class="pre">while</span></code>’dan sonra da yazabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">y</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span>
        <span class="k">yield</span> <span class="n">x</span>
</pre></div>
</div>
<p>Burada da <code class="docutils literal notranslate"><span class="pre">x</span></code> değişkeni <code class="docutils literal notranslate"><span class="pre">100</span></code>’den büyük olduğunda döngümüz bitiyor ve başka kodumuz kalmadığımız için
fonksiyon sonlanıyor. Zaten bir fonksiyonun sonuna ulaşıldığında da biz bir değer döndürmediysek de
<code class="docutils literal notranslate"><span class="pre">None</span></code> değeri döndürülecektir.</p>
<p>Son olarak parametre alan basit bir üreteç örneği yaparak bir sonraki konuya geçelim.
Unutmayalım ki üreteçler de bir çeşit fonksiyon olduğu için fonksiyon tanımlarken yapabildiğimiz
her şeyi üreteç tanımlarken de kullanabiliriz. Buna parametre vermek ve iç içe
fonksiyonlar oluşturmak da dahildir.</p>
<p>Üretecimiz bir <code class="docutils literal notranslate"><span class="pre">sayı</span></code> parametresi alacak ve o <code class="docutils literal notranslate"><span class="pre">sayı</span></code> defa ekrana yazı yazdıracak:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yaz</span><span class="p">(</span><span class="n">sayı</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sayı</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Merhaba Dünya!&quot;</span><span class="p">)</span>
        <span class="k">yield</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">yaz</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">y</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>Kodun çıktısı:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">Merhaba Dünya!</span>
<span class="go">Merhaba Dünya!</span>
<span class="go">Merhaba Dünya!</span>
<span class="go">Merhaba Dünya!</span>
</pre></div>
</div>
</section>
<section id="yield-from-deyimi">
<h4>‘yield from’ Deyimi<a class="headerlink" href="#yield-from-deyimi" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> deyimi bir üretecin içinde, başka bir üretecin <code class="docutils literal notranslate"><span class="pre">yield</span></code> ile
döndüreceği değerleri tekrar <code class="docutils literal notranslate"><span class="pre">yield</span></code> etmek istediğimizde kullanılabilir.
Şöyle bir örnek verelim:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç1</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç1 başladı&quot;</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç1 bitti&quot;</span>

<span class="k">def</span> <span class="nf">üreteç2</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç2 başladı&quot;</span>
    <span class="k">yield from</span> <span class="n">üreteç1</span><span class="p">()</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç2 bitti&quot;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç2</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">üreteç2</span> <span class="n">başladı</span>
<span class="n">üreteç1</span> <span class="n">başladı</span>
<span class="n">üreteç1</span> <span class="n">bitti</span>
<span class="n">üreteç2</span> <span class="n">bitti</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Aslında <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> ile yazdığımız bu örnek şu kod ile eşdeğerdir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç1</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç1 başladı&quot;</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç1 bitti&quot;</span>

<span class="k">def</span> <span class="nf">üreteç2</span><span class="p">():</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç2 başladı&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç1</span><span class="p">():</span>
        <span class="k">yield</span> <span class="n">i</span>
    <span class="k">yield</span> <span class="s2">&quot;üreteç2 bitti&quot;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç2</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">üreteç2</span> <span class="n">başladı</span>
<span class="n">üreteç1</span> <span class="n">başladı</span>
<span class="n">üreteç1</span> <span class="n">bitti</span>
<span class="n">üreteç2</span> <span class="n">bitti</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Yani:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">yield from</span> <span class="n">bir_üreteç</span>
</pre></div>
</div>
<p>ifadesi bu ifade eş değerdir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">bir_üreteç</span><span class="p">:</span>
    <span class="k">yield</span> <span class="n">i</span>
</pre></div>
</div>
</section>
</section>
<section id="liste-ve-sozluk-uretecleri-hakkinda">
<h3>Liste ve Sözlük Üreteçleri Hakkında<a class="headerlink" href="#liste-ve-sozluk-uretecleri-hakkinda" title="Link to this heading">¶</a></h3>
<p>Üreteçler konusunun başında söylediğimiz şu bilgiyi tekrarlayarak konumuza başlayalım:</p>
<blockquote>
<div><p>Biz üreteçlerle az çok tanışıyoruz. Liste üreteçleri olsun, sözlük üreteçleri
olsun bu konu hakkında bir şeyler öğrenmiştik. Ancak biz üreteçlerimizi hep
şunun gibi tanımlamıştık:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>Dikkat ederseniz burada <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(10)</span></code> kısmı (nasıl <code class="docutils literal notranslate"><span class="pre">lambda</span></code> fonksiyonlar normal yolla tanımlanan fonksiyonlardan farklı bir söz dizimi kullanıyorsa) normal kodlardan biraz farklı bir söz dizimi kullanıyor. Bu söz dizimi ile karmaşık
algoritmalar oluşturmak zordur, çoğunlukla da mümkün değildir. Zaten bunun bulunma sebebi
karmaşık algoritmalarda kullanılması değil, kısa işlerde yazım kolaylığı sağlamasıdır.
Yani bu yazım şekli, bazı fonksiyonların <code class="docutils literal notranslate"><span class="pre">lambda</span></code> olarak tanımlanması gibi,
üreteç tanımlamanın sadece kısa bir yoludur. Peki aslında üreteçler nasıl
tanımlanır? Şimdi gelin bu konuyu inceleyelim.</p>
</div></blockquote>
<p>Biz önceden üreteçleri şu şekilde kullanmayı biliyorduk:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>Peki üreteç bu kodun neresinde? Aslında bu yazım oldukça kısaltılmış, yani kolaylaştırılmış
bir yazım şeklidir. Biraz açacak olursak şunu elde ederiz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">&lt;class &#39;generator&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</pre></div>
</div>
<p>Şimdilik liste kısmını bir kenara koyarak üreteç kısmı ile ilgilenelim.</p>
<p>Gördüğünüz gibi aslında şu yazım şekli:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Bunun için bir kısaltmadır:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç_fonksiyonu</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">i</span>

<span class="n">üreteç</span> <span class="o">=</span> <span class="n">üreteç_fonksiyonu</span><span class="p">()</span>
</pre></div>
</div>
<p>Aynı <code class="docutils literal notranslate"><span class="pre">lambda</span></code> fonksiyonların normal fonksiyonlar için bir kısaltma olması gibi.</p>
<p>Ancak şuraya dikkat etmek lazım ki:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Yazdığımızda, elimizde çağırıldığında bize üreteç döndürecek bir fonksiyonumuz yok.
Yani <code class="docutils literal notranslate"><span class="pre">üreteç</span></code> değişkenimiz <code class="docutils literal notranslate"><span class="pre">generator</span></code> türünde bir nesne ve tek kullanımlık.
Sonuçta üreteçlerin yinelenmesi bir defa bittikten sonra bir daha kullanamayız, çünkü bir defa bittikten sonra hep <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> hatası yükseltirler. Eğer istersek yenisini oluşturabiliriz. <code class="docutils literal notranslate"><span class="pre">üreteç</span></code> değişkenimizin yinelenmesi bir defa tamamlandıktan sonra daha fazla onu kullanamayacağımızı şu şekilde görebiliriz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç</span><span class="p">:</span>
<span class="go">        print(i)</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç</span><span class="p">:</span>
<span class="go">        print(i)</span>

<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Gördüğünüz gibi <code class="docutils literal notranslate"><span class="pre">üreteç</span></code> değişkenimizi bir defa <code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsü ile kullandığımızda
ikinci defa kullanamamaktayız. Çünkü ilk döngüde üretecimiz bitene kadar çalıştı
ve en sonunda <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> yükseltti. Artık istediğimiz kadar üretecimizi
kullanmayı deneyelim, <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> yükseltmeye devam edecektir (unutmayalım ki <code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsü
<code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> hatalarını yakalar ve yakaladığında da çalışmayı bırakır)</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">StopIteration</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">StopIteration</span>
</pre></div>
</div>
<p>Aynı şey normal yoldan tanımlanan üreteçler için de geçerlidir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">üreteç_fonksiyonu</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">i</span>


<span class="o">&gt;&gt;&gt;</span> <span class="n">üreteç</span> <span class="o">=</span> <span class="n">üreteç_fonksiyonu</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="ne">StopIteration</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="ne">StopIteration</span>
</pre></div>
</div>
<p>Buradaki fark üretecimizi bize veren fonksiyonumuz durduğu için yeni bir üreteç oluşturabiliyor
olmamızdır:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç2</span> <span class="o">=</span> <span class="n">üreteç_fonksiyonu</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">üreteç2</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Ancak şu şekilde bir tanımlama yaptığımızda:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">&lt;class &#39;generator&#39;&gt;</span>
</pre></div>
</div>
<p>Burada elde ettiğimiz üretecin kendisi oluyor, ve bu üreteç de tek kullanımlık. Şimdi
bunların liste üreteçleri ile alakasına geri dönecek olursak:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="n">üreteç_fonksiyonu</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<p>Gördüğünüz gibi aslında normal yoldan tanımlanmış üreteçler, yani <code class="docutils literal notranslate"><span class="pre">yield</span></code> ifadesi kullanılarak fonksiyon gibi tanımlanmış üreteçler, de <code class="docutils literal notranslate"><span class="pre">list</span></code> fonksiyonuna argüman olarak verilebilir. Aynı
<code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsünde kullanılabilmesi gibi. Çünkü -kendi geliştirme arayüzünüzü kullanarak
görebilirsiniz- dikkat edersiniz <code class="docutils literal notranslate"><span class="pre">list</span></code> fonksiyonunun ilk parametresinin adı <code class="docutils literal notranslate"><span class="pre">iterable</span></code>’dır.
Türkçe’ye çevirirsek <em>yinelenebilir</em>. Biz zaten üreteçlerin yinelenebilir nesnelere örnek olduğunu
söylemiştik. Bu yüzden bütün üreteçleri <code class="docutils literal notranslate"><span class="pre">list</span></code> fonksiyonunu kullanarak bir listeye çevirebiliriz.
Buna şu şekilde tanımlanan üreteçler de dahildir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Bu yüzden şu kod güzel bir şekilde çalışmaktadır:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<p>Ve şu yazım da yukarıda yazdığımızın daha da kısaltılmış halinden başka bir şey değildir:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
</pre></div>
</div>
<p>Anlattıklarımız sözlük üreteçleri için de geçerlidir. Dikkat edersiniz kısa yoldan üreteç
tanımlamaları <code class="docutils literal notranslate"><span class="pre">(i</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(3))</span></code> şeklinde, liste tanımlamaları <code class="docutils literal notranslate"><span class="pre">[i</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(3)]</span></code> şeklinde
ve sözlük tanımlamaları da <code class="docutils literal notranslate"><span class="pre">{str(i):i</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(3)}</span></code> şeklinde yapılmaktadır. Bu liste tanımlamasını:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
</pre></div>
</div>
<p>Şu şekilde yazabileceğimiz gibi:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listem</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">üreteç</span><span class="p">:</span>
<span class="go">        listem.append(i)</span>
</pre></div>
</div>
<p>Bu sözlük tanımlamasını da:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sözlük</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">üreteç</span><span class="p">)</span>
</pre></div>
</div>
<p>Şu şekilde yazabilirdik:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">üreteç</span> <span class="o">=</span> <span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sözlük</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">üreteç</span><span class="p">:</span>
<span class="go">        sözlük[key] = value</span>
</pre></div>
</div>
<p>Son örneğimizde üretecimiz her yinelenişinde iki elemanlı bir <code class="docutils literal notranslate"><span class="pre">tuple</span></code> döndürüyor ve
bu demetin ilk elemanı <code class="docutils literal notranslate"><span class="pre">for</span></code> döngüsü içinde <code class="docutils literal notranslate"><span class="pre">key</span></code> değişkenine, ikinci elemanı ise
<code class="docutils literal notranslate"><span class="pre">value</span></code> değişkenine atanıyor. Şunun gibi de düşünebilirsiniz:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="p">((</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)):</span>
<span class="go">        sözlük[key] = value</span>
</pre></div>
</div>
<p>Evet, artık üreteçler konusunda da kayda değer bilgiler öğrendiğimize göre bir sonraki konumuza geçelim.</p>
</section>
</section>
</section>



<div class='glyph'><a href='https://yazbel.com'>&#x2663;</a></div>
<div class='extrarelbar'> 
    <div class="related" role="navigation" aria-label="Related">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="moduller.html" title="Modüller"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="gomulu_fonksiyonlar.html" title="Gömülü Fonksiyonlar"
             >önceki</a> |</li>
<li class="nav-item nav-item-0"><a href=".">&#x2302;</a></li>

        <li class="nav-item nav-item-this"><a href="">İleri Düzey Fonksiyonlar</a></li> 
      </ul>
    </div> </div>

<div class='addcomment'>Yorumlar</div>

<div class='how-to-use'>
    <h3>Önemli Not</h3>
    Sorularınızı yorumlarda dile getirmek yerine <a href="https://forum.yazbel.com/">Yazbel Forumu</a>nda sorarsanız çok daha hızlı cevap alabilirsiniz.
    <br>
    Belgelerdeki bir hata veya eksiği dile getirecekseniz lütfen yorumları kullanmak yerine <a href="https://github.com/yazbel/python-istihza/issues">Github</a>'da bir konu (issue) açın.
    <br>
    Eğer yazdığınız yorum içinde kod kullanacaksanız kodlarınızı
    <span class='tag'>&lt;pre&gt;&lt;code&gt;</span> etiketleri içine alın. Örneğin:

    <pre>
        <span class='tag'>&lt;pre&gt;&lt;code class="python"&gt;</span>
        <span class='keyword'>print</span>(<span class='string'>"Merhaba Dünya!"</span>)
        <span class='tag'>&lt;/code&gt;&lt;/pre&gt;</span>
    </pre>
</div>


<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT
     *  THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR
     *  PLATFORM OR CMS.
     *
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT:
     *  https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        // Replace PAGE_URL with your page's canonical URL variable
        this.page.url = PAGE_URL;

        // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        this.page.identifier = PAGE_IDENTIFIER;
    };
    */

    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');

        // IMPORTANT: Replace EXAMPLE with your forum shortname!
        s.src = 'https://istihza.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>
<br>
<a href="https://disqus.com/?ref_noscript" rel="nofollow">Disqus tarafından sağlanan yorumları</a> görmek için lütfen JavasScript'i etkinleştirin.
<br>
Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4eca48eb2d83faf9" async="async"></script>



            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div> 
    <div class="related" role="navigation" aria-label="Related">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="moduller.html" title="Modüller"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="gomulu_fonksiyonlar.html" title="Gömülü Fonksiyonlar"
             >önceki</a> |</li>
<li class="nav-item nav-item-0"><a href=".">&#x2302;</a></li>

        <li class="nav-item nav-item-this"><a href="">İleri Düzey Fonksiyonlar</a></li> 
      </ul>
    </div> 

<div class="footer">
		&copy; Copyright 2007-2024, Fırat Özgül | <a href="https://yazbel.com">yazbel.com</a>.
Son güncelleme: 19.08.2024.
	<a href="http://sphinx-doc.org/">Sphinx</a> 8.0.2 kullanılarak oluşturuldu.

	Yayım 4.1.3.
<br>
<br>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img
alt="Creative Commons License" style="border-width:0"
src="https://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a>
<br>
<br>
</div>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=10396326;
var sc_invisible=1;
var sc_security="fb5cd679";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="hit counter"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="http://c.statcounter.com/10396326/0/fb5cd679/1/"
alt="hit counter"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

  </body>
</html>